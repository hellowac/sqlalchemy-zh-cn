<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="genindex.html" /><link rel="search" title="搜索" href="search.html" /><link rel="copyright" title="版权所有" href="copyright.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.08.06 -->
        <title>术语 - SQLAlchemy 2.1 Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/changelog.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx_paramlinks.css" />
    <link rel="stylesheet" type="text/css" href="_static/docs.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">SQLAlchemy 2.1 Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">SQLAlchemy 2.1 Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">概述</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial/index.html">SQLAlchemy 统一教程</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of SQLAlchemy 统一教程</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/engine.html">建立连接 - Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/dbapi_transactions.html">使用事务和DBAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/metadata.html">使用数据库元数据</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="tutorial/data.html">处理数据</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 处理数据</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial/data_insert.html">使用 INSERT 语句</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/data_select.html">使用 SELECT 语句</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/data_update.html">使用 UPDATE 和 DELETE 语句</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/orm_data_manipulation.html">使用 ORM 进行数据操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/orm_related_objects.html">使用 ORM 相关对象</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/further_reading.html">进一步阅读</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="orm/index.html">SQLAlchemy ORM</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of SQLAlchemy ORM</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="orm/quickstart.html">ORM 快速入门</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="orm/mapper_config.html">ORM 映射类配置</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of ORM 映射类配置</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="orm/mapping_styles.html">ORM 映射类概述</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="orm/declarative_mapping.html">使用声明式映射类</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 使用声明式映射类</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="orm/declarative_styles.html">声明式映射风格</a></li>
<li class="toctree-l4"><a class="reference internal" href="orm/declarative_tables.html">声明式的表配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="orm/declarative_config.html">使用声明式映射器配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="orm/declarative_mixins.html">使用 Mixins 组合映射层次结构</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="orm/dataclasses.html">与dataclass和attrs的集成</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/mapped_sql_expr.html">SQL 表达式作为映射属性</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/mapped_attributes.html">更改Attribute的行为</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/composites.html">复合列类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/inheritance.html">映射类继承层次结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/nonstandard_mappings.html">非传统映射</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/versioning.html">配置版本计数器</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/mapping_api.html">类映射 API</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="orm/scalar_mapping.html">映射 SQL 表达式</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 映射 SQL 表达式</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="orm/mapping_columns.html">映射表格列</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="orm/relationships.html">关系配置</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of 关系配置</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="orm/basic_relationships.html">基本关系模式</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/self_referential.html">邻接表关系</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/join_conditions.html">配置关系连接方式</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/large_collections.html">使用大型集合</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/collection_api.html">集合自定义和 API 详细信息</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/relationship_persistence.html">特殊关系的持久化模式</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/backref.html">使用旧版“backref”关系参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/relationship_api.html">关系 API</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="orm/queryguide/index.html">ORM 查询指南</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of ORM 查询指南</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="orm/queryguide/select.html">为 ORM 映射类编写 SELECT 语句</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/queryguide/inheritance.html">为继承映射编写 SELECT 语句</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/queryguide/dml.html">启用 ORM 的 INSERT、UPDATE 和 DELETE 语句</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/queryguide/columns.html">列加载选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/queryguide/relationships.html">关系加载技术</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/queryguide/api.html">用于查询的 ORM API 功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/queryguide/query.html">旧式查询 API</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="orm/session.html">使用会话</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 使用会话</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="orm/session_basics.html">会话基础知识</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/session_state_management.html">状态管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/cascades.html">级联</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/session_transaction.html">事务和连接管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/persistence_techniques.html">附加持久性技术</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/contextual.html">上下文/线程本地会话</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/session_events.html">使用事件跟踪查询、对象和会话更改</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/session_api.html">会话 API</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="orm/extending.html">事件和内部</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 事件和内部</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="orm/events.html">ORM 事件</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/internals.html">ORM 内部</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/exceptions.html">ORM 异常</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="orm/extensions/index.html">ORM 扩展</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of ORM 扩展</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/asyncio.html">异步 I/O (asyncio)</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/associationproxy.html">关联代理</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/automap.html">自动映射</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/baked.html">烘焙查询</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/declarative/index.html">声明式扩展</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/mutable.html">突变追踪</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/orderinglist.html">排序列表</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/horizontal_shard.html">水平分片</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/hybrid.html">混合属性</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/indexable.html">Indexable</a></li>
<li class="toctree-l3"><a class="reference internal" href="orm/extensions/instrumentation.html">替代类检测</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="orm/examples.html">核心和 ORM 示例</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="core/index.html">SQLAlchemy Core</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of SQLAlchemy Core</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="core/expression_api.html">SQL 语句和表达式 API</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of SQL 语句和表达式 API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="core/sqlelement.html">列元素和表达式</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/operators.html">操作符参考</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/selectable.html">SELECT 和相关构造</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/dml.html">插入,更新,删除</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/functions.html">SQL 和 范型函数</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/compiler.html">自定义 SQL 构造和编译扩展</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/serializer.html">表达式序列化器扩展</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/foundation.html">SQL 表达式语言基础构造</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/visitors.html">访问者和遍历实用程序</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="core/schema.html">Schema 定义语言</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Schema 定义语言</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="core/metadata.html">使用元数据描述数据库</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/reflection.html">反映数据库对象</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/defaults.html">列 INSERT/UPDATE 默认值</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/constraints.html">定义约束和索引</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/ddl.html">自定义 DDL</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="core/types.html">SQL 数据类型对象</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of SQL 数据类型对象</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="core/type_basics.html">类型层次结构</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/custom_types.html">自定义类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/type_api.html">基本类型 API</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="core/engines_connections.html">Engine和Connection的使用</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Engine和Connection的使用</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="core/engines.html">Engine 配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/connections.html">使用Engines和Connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/pooling.html">连接池</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/events.html">核心事件</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="core/api_basics.html">Core API 基础</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Core API 基础</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="core/event.html">事件</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/inspection.html">运行时审查 API</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/exceptions.html">Core 异常</a></li>
<li class="toctree-l3"><a class="reference internal" href="core/internals.html">Core 内部</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="dialects/index.html">Dialects</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Dialects</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="dialects/postgresql.html">PostgreSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="dialects/mysql.html">MySQL 和 MariaDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="dialects/sqlite.html">SQLite</a></li>
<li class="toctree-l2"><a class="reference internal" href="dialects/oracle.html">Oracle</a></li>
<li class="toctree-l2"><a class="reference internal" href="dialects/mssql.html">Microsoft SQL Server</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="faq/index.html">常见问题</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of 常见问题</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="faq/installation.html">安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq/connections.html">连接 / 引擎</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq/metadata_schema.html">元数据 / Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq/sqlexpressions.html">SQL 表达式</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq/ormconfiguration.html">ORM 配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq/performance.html">性能</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq/sessions.html">会话 / 查询</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq/thirdparty.html">第三方包集成问题</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">错误消息</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="changelog/index.html">变更和迁移</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of 变更和迁移</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_21.html">SQLAlchemy 2.1 有什么新功能？</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_21.html">2.1 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_20.html">2.0 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_14.html">1.4 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_13.html">1.3 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_12.html">1.2 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_11.html">1.1 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_10.html">1.0 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_09.html">0.9 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_08.html">0.8 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_07.html">0.7 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_06.html">0.6 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_05.html">0.5 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_04.html">0.4 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_03.html">0.3 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_02.html">0.2 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/changelog_01.html">0.1 Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_20.html">SQLAlchemy 2.0 - Major Migration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/whatsnew_20.html">What’s New in SQLAlchemy 2.0?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_14.html">What’s New in SQLAlchemy 1.4?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_13.html">What’s New in SQLAlchemy 1.3?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_12.html">What’s New in SQLAlchemy 1.2?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_11.html">What’s New in SQLAlchemy 1.1?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_10.html">What’s New in SQLAlchemy 1.0?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_09.html">What’s New in SQLAlchemy 0.9?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_08.html">What’s New in SQLAlchemy 0.8?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_07.html">What’s New in SQLAlchemy 0.7?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_06.html">What’s New in SQLAlchemy 0.6?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_05.html">What’s new in SQLAlchemy 0.5?</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog/migration_04.html">What’s new in SQLAlchemy 0.4?</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="glossary">
<span id="id1"></span><h1>术语<a class="headerlink" href="#glossary" title="Link to this heading">¶</a></h1>
<p>Glossary</p>
<dl class="glossary">
<dt id="term-1.x">1.x 风格<a class="headerlink" href="#term-1.x" title="Link to this term">¶</a></dt><dt id="term-2.0">2.0 风格<a class="headerlink" href="#term-2.0" title="Link to this term">¶</a></dt><dt id="term-0">1.x-风格<a class="headerlink" href="#term-0" title="Link to this term">¶</a></dt><dt id="term-1">2.0-风格<a class="headerlink" href="#term-1" title="Link to this term">¶</a></dt><dt id="term-1.x-style">1.x style<a class="headerlink" href="#term-1.x-style" title="Link to this term">¶</a></dt><dt id="term-2.0-style">2.0 style<a class="headerlink" href="#term-2.0-style" title="Link to this term">¶</a></dt><dt id="term-2">1.x-style<a class="headerlink" href="#term-2" title="Link to this term">¶</a></dt><dt id="term-3">2.0-style<a class="headerlink" href="#term-3" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">中文</label><div class="tab-content docutils container">
<p>这些术语在 SQLAlchemy 1.4 中是新的，并且与 SQLAlchemy 1.4-&gt;2.0 过渡计划有关，详见 <a class="reference internal" href="changelog/migration_20.html#migration-20-toplevel"><span class="std std-ref">SQLAlchemy 2.0 - Major Migration Guide</span></a>。术语“1.x 风格”指在整个 SQLAlchemy 1.x 系列及更早版本（如 1.3、1.2 等）中记录的 API 使用方式，而术语“2.0 风格”指 API 在 2.0 版本中的使用方式。版本 1.4 实现了几乎所有 2.0 的 API，称为“过渡模式”，而版本 2.0 仍保留了遗留的 <a class="reference internal" href="orm/queryguide/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> 对象，以允许遗留代码在很大程度上与 2.0 兼容。</p>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">英文</label><div class="tab-content docutils container">
<p>These terms are new in SQLAlchemy 1.4 and refer to the SQLAlchemy 1.4-&gt;
2.0 transition plan, described at <a class="reference internal" href="changelog/migration_20.html#migration-20-toplevel"><span class="std std-ref">SQLAlchemy 2.0 - Major Migration Guide</span></a>.  The
term “1.x style” refers to an API used in the way it’s been documented
throughout the 1.x series of SQLAlchemy and earlier (e.g. 1.3, 1.2, etc)
and the term “2.0 style” refers to the way an API will look in version
2.0.   Version 1.4 implements nearly all of 2.0’s API in so-called
“transition mode”, while version 2.0 still maintains the legacy
<a class="reference internal" href="orm/queryguide/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object to allow legacy code to remain largely
2.0 compatible.</p>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="changelog/migration_20.html#migration-20-toplevel"><span class="std std-ref">SQLAlchemy 2.0 - Major Migration Guide</span></a></p>
</div>
</dd>
<dt id="term-ACID">ACID<a class="headerlink" href="#term-ACID" title="Link to this term">¶</a></dt><dt id="term-ACID-model">ACID model<a class="headerlink" href="#term-ACID-model" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">中文</label><div class="tab-content docutils container">
<p>“原子性、一致性、隔离性、持久性”的首字母缩写；一组保证数据库事务可靠处理的属性。
（via Wikipedia）</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-atomicity"><span class="xref std std-term">atomicity</span></a></p>
<p><a class="reference internal" href="#term-consistency"><span class="xref std std-term">consistency</span></a></p>
<p><a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a></p>
<p><a class="reference internal" href="#term-durability"><span class="xref std std-term">durability</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/ACID_Model">ACID Model (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">英文</label><div class="tab-content docutils container">
<p>An acronym for “Atomicity, Consistency, Isolation,
Durability”; a set of properties that guarantee that
database transactions are processed reliably.
(via Wikipedia)</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-atomicity"><span class="xref std std-term">atomicity</span></a></p>
<p><a class="reference internal" href="#term-consistency"><span class="xref std std-term">consistency</span></a></p>
<p><a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a></p>
<p><a class="reference internal" href="#term-durability"><span class="xref std std-term">durability</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/ACID_Model">ACID Model (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-association-relationship">association relationship<a class="headerlink" href="#term-association-relationship" title="Link to this term">¶</a></dt><dt id="term-57">关联关系<a class="headerlink" href="#term-57" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">中文</label><div class="tab-content docutils container">
<p>一种两级的 <a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a>，使用中间的关联表将两个表连接在一起。关联关系不同于 <a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a> 关系，因为多对多表由一个完整的类映射，而不是像多对多那样由 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlalchemy.orm.relationship()</span></code></a> 构造隐式处理，这样可以显式地使用附加属性。</p>
<p>例如，如果我们想将员工与项目关联起来，同时存储该员工在项目中的具体角色，关系模式可能如下所示：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">project</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee_project</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">employee_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">project_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">role_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">employee_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">employee</span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">project</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>上述的 SQLAlchemy 声明映射可能如下所示:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Project</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;project&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>


<span class="k">class</span><span class="w"> </span><span class="nc">EmployeeProject</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee_project&quot;</span>

    <span class="n">employee_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;employee.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">project_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;project.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">role_name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>

    <span class="n">project</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s2">&quot;project_employees&quot;</span><span class="p">)</span>
    <span class="n">employee</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Employee&quot;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s2">&quot;employee_projects&quot;</span><span class="p">)</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>可以为项目添加员工并指定角色名称:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">proj</span> <span class="o">=</span> <span class="n">Project</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Client A&quot;</span><span class="p">)</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;emp1&quot;</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;emp2&quot;</span><span class="p">)</span>

<span class="n">proj</span><span class="o">.</span><span class="n">project_employees</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">EmployeeProject</span><span class="p">(</span><span class="n">employee</span><span class="o">=</span><span class="n">emp1</span><span class="p">,</span> <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;tech lead&quot;</span><span class="p">),</span>
        <span class="n">EmployeeProject</span><span class="p">(</span><span class="n">employee</span><span class="o">=</span><span class="n">emp2</span><span class="p">,</span> <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;account executive&quot;</span><span class="p">),</span>
    <span class="p">]</span>
<span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">英文</label><div class="tab-content docutils container">
<p>A two-tiered <a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a> which links two tables
together using an association table in the middle.  The
association relationship differs from a <a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a>
relationship in that the many-to-many table is mapped
by a full class, rather than invisibly handled by the
<a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlalchemy.orm.relationship()</span></code></a> construct as in the case
with many-to-many, so that additional attributes are
explicitly available.</p>
<p>For example, if we wanted to associate employees with
projects, also storing the specific role for that employee
with the project, the relational schema might look like:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">project</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee_project</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">employee_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">project_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">role_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">employee</span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">project_id</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">project</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>A SQLAlchemy declarative mapping for the above might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Project</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;project&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>


<span class="k">class</span><span class="w"> </span><span class="nc">EmployeeProject</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee_project&quot;</span>

    <span class="n">employee_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;employee.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">project_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;project.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">role_name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>

    <span class="n">project</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s2">&quot;project_employees&quot;</span><span class="p">)</span>
    <span class="n">employee</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Employee&quot;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s2">&quot;employee_projects&quot;</span><span class="p">)</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>Employees can be added to a project given a role name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">proj</span> <span class="o">=</span> <span class="n">Project</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Client A&quot;</span><span class="p">)</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;emp1&quot;</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;emp2&quot;</span><span class="p">)</span>

<span class="n">proj</span><span class="o">.</span><span class="n">project_employees</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">EmployeeProject</span><span class="p">(</span><span class="n">employee</span><span class="o">=</span><span class="n">emp1</span><span class="p">,</span> <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;tech lead&quot;</span><span class="p">),</span>
        <span class="n">EmployeeProject</span><span class="p">(</span><span class="n">employee</span><span class="o">=</span><span class="n">emp2</span><span class="p">,</span> <span class="n">role_name</span><span class="o">=</span><span class="s2">&quot;account executive&quot;</span><span class="p">),</span>
    <span class="p">]</span>
<span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-atomicity">atomicity<a class="headerlink" href="#term-atomicity" title="Link to this term">¶</a></dt><dt id="term-44">原子性<a class="headerlink" href="#term-44" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">中文</label><div class="tab-content docutils container">
<p>原子性是 <a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a> 模型的组成部分之一，要求每个事务是“全有或全无”的：如果事务的一部分失败，则整个事务失败，数据库状态保持不变。原子系统必须在每种情况下都保证原子性，包括停电、错误和崩溃。（via Wikipedia）</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Atomicity_(database_systems)">Atomicity (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">英文</label><div class="tab-content docutils container">
<p>Atomicity is one of the components of the <a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a> model,
and requires that each transaction is “all or nothing”:
if one part of the transaction fails, the entire transaction
fails, and the database state is left unchanged. An atomic
system must guarantee atomicity in each and every situation,
including power failures, errors, and crashes.
(via Wikipedia)</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Atomicity_(database_systems)">Atomicity (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-attached">attached<a class="headerlink" href="#term-attached" title="Link to this term">¶</a></dt><dt id="term-72">随附的<a class="headerlink" href="#term-72" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">中文</label><div class="tab-content docutils container">
<p>表示当前与特定 <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a> 关联的 ORM 对象。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">英文</label><div class="tab-content docutils container">
<p>Indicates an ORM object that is presently associated with a specific
<a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-backref">backref<a class="headerlink" href="#term-backref" title="Link to this term">¶</a></dt><dt id="term-bidirectional-relationship">bidirectional relationship<a class="headerlink" href="#term-bidirectional-relationship" title="Link to this term">¶</a></dt><dt id="term-54">双向关系<a class="headerlink" href="#term-54" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">中文</label><div class="tab-content docutils container">
<p>对 <a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a> 系统的扩展，其中两个不同的 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> 对象可以相互关联，以便在任一方发生变化时在内存中协调。这两个关系最常见的构建方式是显式使用 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> 函数为一方指定 <code class="docutils literal notranslate"><span class="pre">backref</span></code> 关键字，以便另一方的 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> 自动创建。我们可以使用 <a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a> 中的示例来说明这一点:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Department</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;department&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">employees</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Employee&quot;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s2">&quot;department&quot;</span><span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">dep_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;department.id&quot;</span><span class="p">))</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>backref 可以应用于任何关系，包括一对多、多对一和 <a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a>。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a></p>
<p><a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a></p>
<p><a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a></p>
<p><a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">英文</label><div class="tab-content docutils container">
<p>An extension to the <a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a> system whereby two
distinct <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> objects can be
mutually associated with each other, such that they coordinate
in memory as changes occur to either side.   The most common
way these two relationships are constructed is by using
the <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> function explicitly
for one side and specifying the <code class="docutils literal notranslate"><span class="pre">backref</span></code> keyword to it so that
the other <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> is created
automatically.  We can illustrate this against the example we’ve
used in <a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a> as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Department</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;department&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">employees</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Employee&quot;</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s2">&quot;department&quot;</span><span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">dep_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;department.id&quot;</span><span class="p">))</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>A backref can be applied to any relationship, including one to many,
many to one, and <a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a></p>
<p><a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a></p>
<p><a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a></p>
<p><a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-candidate-key">candidate key<a class="headerlink" href="#term-candidate-key" title="Link to this term">¶</a></dt><dt id="term-59">候选键<a class="headerlink" href="#term-59" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--1">中文</label><div class="tab-content docutils container">
<p>一个 <a class="reference internal" href="#term-relational-algebra"><span class="xref std std-term">relational algebra</span></a> 术语，指的是形成行的唯一标识键的属性或属性集。一个行可以有多个候选键，每个候选键都适合作为该行的主键。表的主键始终是候选键。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-primary-key"><span class="xref std std-term">primary key</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Candidate_key">Candidate key (via Wikipedia)</a></p>
<p><a class="reference external" href="https://www.databasestar.com/database-keys/">https://www.databasestar.com/database-keys/</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--6-input--2" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--2">英文</label><div class="tab-content docutils container">
<p>A <a class="reference internal" href="#term-relational-algebra"><span class="xref std std-term">relational algebra</span></a> term referring to an attribute or set
of attributes that form a uniquely identifying key for a
row.  A row may have more than one candidate key, each of which
is suitable for use as the primary key of that row.
The primary key of a table is always a candidate key.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-primary-key"><span class="xref std std-term">primary key</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Candidate_key">Candidate key (via Wikipedia)</a></p>
<p><a class="reference external" href="https://www.databasestar.com/database-keys/">https://www.databasestar.com/database-keys/</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-cascade">cascade<a class="headerlink" href="#term-cascade" title="Link to this term">¶</a></dt><dt id="term-23">级联<a class="headerlink" href="#term-23" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--1">中文</label><div class="tab-content docutils container">
<p>一个术语，用于描述在 SQLAlchemy 中，针对特定对象执行的 ORM 持久化操作如何扩展到与该对象直接关联的其他对象。在 SQLAlchemy 中，这些对象关联是使用 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> 构造配置的。 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> 包含一个称为 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship.params.cascade" title="sqlalchemy.orm.relationship"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">relationship.cascade</span></code></a> 的参数，该参数提供有关某些持久化操作如何级联的选项。</p>
<p>“级联”一词以及该系统在 SQLAlchemy 中的一般架构，无论好坏，都是从 Hibernate ORM 借用的。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/cascades.html#unitofwork-cascades"><span class="std std-ref">级联</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--2">英文</label><div class="tab-content docutils container">
<p>A term used in SQLAlchemy to describe how an ORM persistence action that
takes place on a particular object would extend into other objects
which are directly associated with that object.  In SQLAlchemy, these
object associations are configured using the <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a>
construct.   <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> contains a parameter called
<a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship.params.cascade" title="sqlalchemy.orm.relationship"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">relationship.cascade</span></code></a> which provides options on how certain
persistence operations may cascade.</p>
<p>The term “cascades” as well as the general architecture of this system
in SQLAlchemy was borrowed, for better or worse, from the Hibernate
ORM.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/cascades.html#unitofwork-cascades"><span class="std std-ref">级联</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-check-constraint">check constraint<a class="headerlink" href="#term-check-constraint" title="Link to this term">¶</a></dt><dt id="term-64">检查约束<a class="headerlink" href="#term-64" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--1">中文</label><div class="tab-content docutils container">
<p>一个检查约束是一个条件，用于定义在关系数据库的表中添加或更新条目时的有效数据。检查约束适用于表中的每一行。</p>
<p>(via Wikipedia)</p>
<p>可以使用标准 SQL 中的 <a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a> 向表添加检查约束，如下所示：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">distributors</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">zipchk</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="k">char_length</span><span class="p">(</span><span class="n">zipcode</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Check_constraint">CHECK constraint (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--2">英文</label><div class="tab-content docutils container">
<p>A check constraint is a
condition that defines valid data when adding or updating an
entry in a table of a relational database. A check constraint
is applied to each row in the table.</p>
<p>(via Wikipedia)</p>
<p>A check constraint can be added to a table in standard
SQL using <a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a> like the following:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">distributors</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">zipchk</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="k">char_length</span><span class="p">(</span><span class="n">zipcode</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Check_constraint">CHECK constraint (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-columns-clause">columns clause<a class="headerlink" href="#term-columns-clause" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--9-input--1" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--1">中文</label><div class="tab-content docutils container">
<p><code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 语句中枚举将在结果集中返回的 SQL 表达式的部分。表达式直接跟在 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 关键字后面，是一个用逗号分隔的单个表达式列表。</p>
<p>例如：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">email</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">user_account</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;fred&#39;</span></pre></div>
</div>
<p>上面，列 <code class="docutils literal notranslate"><span class="pre">user_account.name</span></code> 和 <code class="docutils literal notranslate"><span class="pre">user_account.email</span></code> 是 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 语句的列子句。</p>
</div>
<input class="tab-input" id="tab-set--9-input--2" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--2">英文</label><div class="tab-content docutils container">
<p>The portion of the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement which enumerates the
SQL expressions to be returned in the result set.  The expressions
follow the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> keyword directly and are a comma-separated
list of individual expressions.</p>
<p>E.g.:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">email</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">user_account</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;fred&#39;</span></pre></div>
</div>
<p>Above, the list of columns <code class="docutils literal notranslate"><span class="pre">user_acount.name</span></code>,
<code class="docutils literal notranslate"><span class="pre">user_account.email</span></code> is the columns clause of the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>.</p>
</div>
</div>
</dd>
<dt id="term-composite-primary-key">composite primary key<a class="headerlink" href="#term-composite-primary-key" title="Link to this term">¶</a></dt><dt id="term-62">复合主键<a class="headerlink" href="#term-62" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--10-input--1" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--1">中文</label><div class="tab-content docutils container">
<p>一个 <a class="reference internal" href="#term-primary-key"><span class="xref std std-term">primary key</span></a>，包含多个列。特定的数据库行基于两个或多个列而不是单个值唯一。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-primary-key"><span class="xref std std-term">primary key</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--10-input--2" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--2">英文</label><div class="tab-content docutils container">
<p>A <a class="reference internal" href="#term-primary-key"><span class="xref std std-term">primary key</span></a> that has more than one column.   A particular
database row is unique based on two or more columns rather than just
a single value.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-primary-key"><span class="xref std std-term">primary key</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-consistency">consistency<a class="headerlink" href="#term-consistency" title="Link to this term">¶</a></dt><dt id="term-45">一致性<a class="headerlink" href="#term-45" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--11-input--1" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--1">中文</label><div class="tab-content docutils container">
<p>一致性是 <a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a> 模型的组成部分之一，确保任何事务都将数据库从一个有效状态带到另一个有效状态。写入数据库的任何数据都必须符合所有定义的规则，包括但不限于 <a class="reference internal" href="#term-constraints"><span class="xref std std-term">constraints</span></a>、级联、触发器及其任何组合。（via Wikipedia）</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Consistency_(database_systems)">Consistency (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--11-input--2" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--2">英文</label><div class="tab-content docutils container">
<p>Consistency is one of the components of the <a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a> model,
and ensures that any transaction will
bring the database from one valid state to another. Any data
written to the database must be valid according to all defined
rules, including but not limited to <a class="reference internal" href="#term-constraints"><span class="xref std std-term">constraints</span></a>, cascades,
triggers, and any combination thereof.
(via Wikipedia)</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Consistency_(database_systems)">Consistency (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-constraint">constraint<a class="headerlink" href="#term-constraint" title="Link to this term">¶</a></dt><dt id="term-constraints">constraints<a class="headerlink" href="#term-constraints" title="Link to this term">¶</a></dt><dt id="term-constrained">constrained<a class="headerlink" href="#term-constrained" title="Link to this term">¶</a></dt><dt id="term-58">约束<a class="headerlink" href="#term-58" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--12-input--1" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--1">中文</label><div class="tab-content docutils container">
<p>在关系数据库中建立的规则，确保数据的有效性和一致性。常见的约束形式包括 <a class="reference internal" href="#term-primary-key-constraint"><span class="xref std std-term">primary key constraint</span></a>、<a class="reference internal" href="#term-foreign-key-constraint"><span class="xref std std-term">foreign key constraint</span></a> 和 <a class="reference internal" href="#term-check-constraint"><span class="xref std std-term">check constraint</span></a>。</p>
</div>
<input class="tab-input" id="tab-set--12-input--2" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--2">英文</label><div class="tab-content docutils container">
<p>Rules established within a relational database that ensure
the validity and consistency of data.   Common forms
of constraint include <a class="reference internal" href="#term-primary-key-constraint"><span class="xref std std-term">primary key constraint</span></a>,
<a class="reference internal" href="#term-foreign-key-constraint"><span class="xref std std-term">foreign key constraint</span></a>, and <a class="reference internal" href="#term-check-constraint"><span class="xref std std-term">check constraint</span></a>.</p>
</div>
</div>
</dd>
<dt id="term-correlates">correlates<a class="headerlink" href="#term-correlates" title="Link to this term">¶</a></dt><dt id="term-correlated-subquery">correlated subquery<a class="headerlink" href="#term-correlated-subquery" title="Link to this term">¶</a></dt><dt id="term-43">相关子查询<a class="headerlink" href="#term-43" title="Link to this term">¶</a></dt><dt id="term-correlated-subqueries">correlated subqueries<a class="headerlink" href="#term-correlated-subqueries" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--13-input--1" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--1">中文</label><div class="tab-content docutils container">
<p>如果 <a class="reference internal" href="#term-subquery"><span class="xref std std-term">subquery</span></a> 依赖于封闭 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 中的数据，则它是相关的。</p>
<p>下面，一个子查询从 <code class="docutils literal notranslate"><span class="pre">email_address</span></code> 表中选择聚合值 <code class="docutils literal notranslate"><span class="pre">MIN(a.id)</span></code>，使其针对 <code class="docutils literal notranslate"><span class="pre">email_address.user_account_id</span></code> 列关联 <code class="docutils literal notranslate"><span class="pre">user_account.id</span></code> 列的值：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">email_address</span><span class="p">.</span><span class="n">email</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">user_account</span>
<span class="w">    </span><span class="k">JOIN</span><span class="w"> </span><span class="n">email_address</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="n">email_address</span><span class="p">.</span><span class="n">user_account_id</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">email_address</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">email_address</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">a</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">user_account_id</span><span class="o">=</span><span class="n">user_account</span><span class="p">.</span><span class="n">id</span>
<span class="w">    </span><span class="p">)</span></pre></div>
</div>
<p>上面的子查询指的是 <code class="docutils literal notranslate"><span class="pre">user_account</span></code> 表，该表本身不在这个嵌套查询的 <code class="docutils literal notranslate"><span class="pre">FROM</span></code> 子句中。相反， <code class="docutils literal notranslate"><span class="pre">user_account</span></code> 表是从封闭查询接收的，其中从 <code class="docutils literal notranslate"><span class="pre">user_account</span></code> 中选择的每一行都会导致子查询的不同执行。</p>
<p>在大多数情况下，相关子查询出现在直接封闭 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 语句的 <a class="reference internal" href="#term-WHERE-clause"><span class="xref std std-term">WHERE clause</span></a> 或 <a class="reference internal" href="#term-columns-clause"><span class="xref std std-term">columns clause</span></a> 中，以及 ORDER BY 或 HAVING 子句中。</p>
<p>在不太常见的情况下，相关子查询可能出现在封闭 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 的 <a class="reference internal" href="#term-FROM-clause"><span class="xref std std-term">FROM clause</span></a> 中；在这些情况下，相关性通常是由于封闭的 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 本身被封闭在另一个 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 的 WHERE、ORDER BY、columns 或 HAVING 子句中，例如：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">parent</span>
<span class="k">WHERE</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">parent_id</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">parent_id</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">pos</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">pos</span>
<span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">child</span>
<span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">parent_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">pos</span>
<span class="w">    </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span></pre></div>
</div>
<p>不能通过 <code class="docutils literal notranslate"><span class="pre">FROM</span></code> 子句直接将一个 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 的相关性关联到封闭查询，因为只有当封闭语句的 FROM 子句中的原始源行可用时，相关性才能进行。</p>
</div>
<input class="tab-input" id="tab-set--13-input--2" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--2">英文</label><div class="tab-content docutils container">
<p>A <a class="reference internal" href="#term-subquery"><span class="xref std std-term">subquery</span></a> is correlated if it depends on data in the
enclosing <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>.</p>
<p>Below, a subquery selects the aggregate value <code class="docutils literal notranslate"><span class="pre">MIN(a.id)</span></code>
from the <code class="docutils literal notranslate"><span class="pre">email_address</span></code> table, such that
it will be invoked for each value of <code class="docutils literal notranslate"><span class="pre">user_account.id</span></code>, correlating
the value of this column against the <code class="docutils literal notranslate"><span class="pre">email_address.user_account_id</span></code>
column:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">email_address</span><span class="p">.</span><span class="n">email</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">user_account</span>
<span class="w">    </span><span class="k">JOIN</span><span class="w"> </span><span class="n">email_address</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="n">email_address</span><span class="p">.</span><span class="n">user_account_id</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">email_address</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">email_address</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">a</span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">user_account_id</span><span class="o">=</span><span class="n">user_account</span><span class="p">.</span><span class="n">id</span>
<span class="w">    </span><span class="p">)</span></pre></div>
</div>
<p>The above subquery refers to the <code class="docutils literal notranslate"><span class="pre">user_account</span></code> table, which is not itself
in the <code class="docutils literal notranslate"><span class="pre">FROM</span></code> clause of this nested query.   Instead, the <code class="docutils literal notranslate"><span class="pre">user_account</span></code>
table is received from the enclosing query, where each row selected from
<code class="docutils literal notranslate"><span class="pre">user_account</span></code> results in a distinct execution of the subquery.</p>
<p>A correlated subquery is in most cases present in the <a class="reference internal" href="#term-WHERE-clause"><span class="xref std std-term">WHERE clause</span></a>
or <a class="reference internal" href="#term-columns-clause"><span class="xref std std-term">columns clause</span></a> of the immediately enclosing <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>
statement, as well as in the ORDER BY or HAVING clause.</p>
<p>In less common cases, a correlated subquery may be present in the
<a class="reference internal" href="#term-FROM-clause"><span class="xref std std-term">FROM clause</span></a> of an enclosing <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>; in these cases the
correlation is typically due to the enclosing <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> itself being
enclosed in the WHERE,
ORDER BY, columns or HAVING clause of another <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>, such as:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">parent</span>
<span class="k">WHERE</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">parent_id</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">parent_id</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">pos</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">pos</span>
<span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">child</span>
<span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">parent_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">child</span><span class="p">.</span><span class="n">pos</span>
<span class="w">    </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span></pre></div>
</div>
<p>Correlation from one <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> directly to one which encloses the correlated
query via its <code class="docutils literal notranslate"><span class="pre">FROM</span></code>
clause is not possible, because the correlation can only proceed once the
original source rows from the enclosing statement’s FROM clause are available.</p>
</div>
</div>
</dd>
<dt id="term-crud">crud<a class="headerlink" href="#term-crud" title="Link to this term">¶</a></dt><dt id="term-CRUD">CRUD<a class="headerlink" href="#term-CRUD" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--14-input--1" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--1">中文</label><div class="tab-content docutils container">
<p>一个首字母缩略词，意思是“创建、更新、删除”。在 SQL 中，该术语指创建、修改和删除数据库中的数据的操作集，也称为 <a class="reference internal" href="#term-DML"><span class="xref std std-term">DML</span></a>，通常指 <code class="docutils literal notranslate"><span class="pre">INSERT</span></code>、 <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code> 和 <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> 语句。</p>
</div>
<input class="tab-input" id="tab-set--14-input--2" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--2">英文</label><div class="tab-content docutils container">
<p>An acronym meaning “Create, Update, Delete”.  The term in SQL refers to the
set of operations that create, modify and delete data from the database,
also known as <a class="reference internal" href="#term-DML"><span class="xref std std-term">DML</span></a>, and typically refers to the <code class="docutils literal notranslate"><span class="pre">INSERT</span></code>,
<code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>, and <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> statements.</p>
</div>
</div>
</dd>
<dt id="term-cursor">cursor<a class="headerlink" href="#term-cursor" title="Link to this term">¶</a></dt><dt id="term-56">游标<a class="headerlink" href="#term-56" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--15-input--1" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--1">中文</label><div class="tab-content docutils container">
<p>一种控制结构，使得能够遍历数据库中的记录。
在 Python DBAPI 中，cursor 对象实际上是语句执行的起点，也是用于获取结果的接口。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://www.python.org/dev/peps/pep-0249/#cursor-objects">Cursor Objects (in pep-249)</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Cursor_(databases)">Cursor (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--15-input--2" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--2">英文</label><div class="tab-content docutils container">
<p>A control structure that enables traversal over the records in a database.
In the Python DBAPI, the cursor object is in fact the starting point
for statement execution as well as the interface used for fetching
results.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://www.python.org/dev/peps/pep-0249/#cursor-objects">Cursor Objects (in pep-249)</a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Cursor_(databases)">Cursor (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-DBAPI">DBAPI<a class="headerlink" href="#term-DBAPI" title="Link to this term">¶</a></dt><dt id="term-pep-249">pep-249<a class="headerlink" href="#term-pep-249" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--16-input--1" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--1">中文</label><div class="tab-content docutils container">
<p>DBAPI 是“Python 数据库 API 规范”（Python Database API Specification）的缩写。这是在 Python 中广泛使用的规范，用于定义所有数据库连接包的常见使用模式。DBAPI 是一个“低级”API，通常是 Python 应用程序中用于与数据库通信的最低级系统。SQLAlchemy 的 <a class="reference internal" href="#term-dialect"><span class="xref std std-term">dialect</span></a> 系统围绕 DBAPI 的操作构建，提供服务于特定数据库引擎的特定 DBAPI 的单个方言类；例如，<a class="reference internal" href="core/engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code></a> URL <code class="docutils literal notranslate"><span class="pre">postgresql+psycopg2://&#64;localhost/test</span></code> 指的是 <a class="reference internal" href="dialects/postgresql.html#module-sqlalchemy.dialects.postgresql.psycopg2" title="sqlalchemy.dialects.postgresql.psycopg2"><code class="xref py py-mod docutils literal notranslate"><span class="pre">psycopg2</span></code></a> DBAPI/方言组合，而 URL <code class="docutils literal notranslate"><span class="pre">mysql+mysqldb://&#64;localhost/test</span></code> 指的是 <a class="reference internal" href="dialects/mysql.html#module-sqlalchemy.dialects.mysql.mysqldb" title="sqlalchemy.dialects.mysql.mysqldb"><code class="xref py py-mod docutils literal notranslate"><span class="pre">MySQL</span> <span class="pre">for</span> <span class="pre">Python</span></code></a> DBAPI/方言组合。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://www.python.org/dev/peps/pep-0249/">PEP 249 - Python Database API Specification v2.0</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--16-input--2" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--2">英文</label><div class="tab-content docutils container">
<p>DBAPI is shorthand for the phrase “Python Database API
Specification”.  This is a widely used specification
within Python to define common usage patterns for all
database connection packages.   The DBAPI is a “low level”
API which is typically the lowest level system used
in a Python application to talk to a database.  SQLAlchemy’s
<a class="reference internal" href="#term-dialect"><span class="xref std std-term">dialect</span></a> system is constructed around the
operation of the DBAPI, providing individual dialect
classes which service a specific DBAPI on top of a
specific database engine; for example, the <a class="reference internal" href="core/engines.html#sqlalchemy.create_engine" title="sqlalchemy.create_engine"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code></a>
URL <code class="docutils literal notranslate"><span class="pre">postgresql+psycopg2://&#64;localhost/test</span></code>
refers to the <a class="reference internal" href="dialects/postgresql.html#module-sqlalchemy.dialects.postgresql.psycopg2" title="sqlalchemy.dialects.postgresql.psycopg2"><code class="xref py py-mod docutils literal notranslate"><span class="pre">psycopg2</span></code></a>
DBAPI/dialect combination, whereas the URL <code class="docutils literal notranslate"><span class="pre">mysql+mysqldb://&#64;localhost/test</span></code>
refers to the <a class="reference internal" href="dialects/mysql.html#module-sqlalchemy.dialects.mysql.mysqldb" title="sqlalchemy.dialects.mysql.mysqldb"><code class="xref py py-mod docutils literal notranslate"><span class="pre">MySQL</span> <span class="pre">for</span> <span class="pre">Python</span></code></a>
DBAPI/dialect combination.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://www.python.org/dev/peps/pep-0249/">PEP 249 - Python Database API Specification v2.0</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-DDL">DDL<a class="headerlink" href="#term-DDL" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--17-input--1" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--1">中文</label><div class="tab-content docutils container">
<p>一个 <strong>数据定义语言</strong> 的缩写。DDL 是 SQL 的子集，关系数据库使用它来配置表、约束和数据库模式中的其他永久对象。SQLAlchemy 提供了一个丰富的 API 用于构建和发出 DDL 表达式。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/metadata.html#metadata-toplevel"><span class="std std-ref">使用元数据描述数据库</span></a></p>
<p><a class="reference external" href="https://zh.wikipedia.org/wiki/资料定义语言">DDL (via Wikipedia)</a></p>
<p><a class="reference internal" href="#term-DML"><span class="xref std std-term">DML</span></a></p>
<p><a class="reference internal" href="#term-DQL"><span class="xref std std-term">DQL</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--17-input--2" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--2">英文</label><div class="tab-content docutils container">
<p>An acronym for <strong>Data Definition Language</strong>.  DDL is the subset
of SQL that relational databases use to configure tables, constraints,
and other permanent objects within a database schema.  SQLAlchemy
provides a rich API for constructing and emitting DDL expressions.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/metadata.html#metadata-toplevel"><span class="std std-ref">使用元数据描述数据库</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Data_definition_language">DDL (via Wikipedia)</a></p>
<p><a class="reference internal" href="#term-DML"><span class="xref std std-term">DML</span></a></p>
<p><a class="reference internal" href="#term-DQL"><span class="xref std std-term">DQL</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-deleted">deleted<a class="headerlink" href="#term-deleted" title="Link to this term">¶</a></dt><dt id="term-69">删除的<a class="headerlink" href="#term-69" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--18-input--1" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--1">中文</label><div class="tab-content docutils container">
<p>这描述了对象在 <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a> 中可以具有的主要对象状态之一；一个已删除对象是一个以前是持久的对象，并且在刷新到数据库中发出 DELETE 语句以删除其行。对象将在会话事务提交后移动到 <a class="reference internal" href="#term-detached"><span class="xref std std-term">detached</span></a> 状态；或者，如果会话事务被回滚，DELETE 将被还原，对象将返回到 <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a> 状态。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--18-input--2" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--2">英文</label><div class="tab-content docutils container">
<p>This describes one of the major object states which
an object can have within a <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a>; a deleted object
is an object that was formerly persistent and has had a
DELETE statement emitted to the database within a flush
to delete its row.  The object will move to the <a class="reference internal" href="#term-detached"><span class="xref std std-term">detached</span></a>
state once the session’s transaction is committed; alternatively,
if the session’s transaction is rolled back, the DELETE is
reverted and the object moves back to the <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a>
state.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-descriptor">descriptor<a class="headerlink" href="#term-descriptor" title="Link to this term">¶</a></dt><dt id="term-18">描述符<a class="headerlink" href="#term-18" title="Link to this term">¶</a></dt><dt id="term-descriptors">descriptors<a class="headerlink" href="#term-descriptors" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--19-input--1" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--1">中文</label><div class="tab-content docutils container">
<p>在 Python 中，描述符是具有“绑定行为”的对象属性，其属性访问被 <a class="reference external" href="https://docs.python.org/howto/descriptor.html">描述符协议</a> 中的方法覆盖。 这些方法是 <code class="docutils literal notranslate"><span class="pre">__get__()</span></code>、 <code class="docutils literal notranslate"><span class="pre">__set__()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">__delete__()</span></code>。 如果为对象定义了这些方法中的任何一个，它就被称为描述符。</p>
<p>在 SQLAlchemy 中，描述符被大量使用，以提供映射类的属性行为。当类被映射时，例如:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>当 <code class="docutils literal notranslate"><span class="pre">MyClass</span></code> 类的定义完成时，该类将被 <a class="reference internal" href="#term-mapped"><span class="xref std std-term">mapped</span></a>，此时，最初作为 <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> 对象的 <code class="docutils literal notranslate"><span class="pre">id</span></code> 和 <code class="docutils literal notranslate"><span class="pre">data</span></code> 属性将被 <a class="reference internal" href="#term-instrumentation"><span class="xref std std-term">instrumentation</span></a> 系统替换为 <a class="reference internal" href="orm/internals.html#sqlalchemy.orm.InstrumentedAttribute" title="sqlalchemy.orm.InstrumentedAttribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstrumentedAttribute</span></code></a> 的实例，这些实例是提供上述 <code class="docutils literal notranslate"><span class="pre">__get__()</span></code>、<code class="docutils literal notranslate"><span class="pre">__set__()</span></code> 和 <code class="docutils literal notranslate"><span class="pre">__delete__()</span></code> 方法的描述符。 <a class="reference internal" href="orm/internals.html#sqlalchemy.orm.InstrumentedAttribute" title="sqlalchemy.orm.InstrumentedAttribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstrumentedAttribute</span></code></a> 在类级别使用时会生成一个 SQL 表达式：</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">MyClass</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">:</span><span class="n">data_1</span>
</div></pre></div>
</div>
<p>在实例级别，它会跟踪值的变化，并且还会从数据库 <a class="reference internal" href="#term-lazy-loads"><span class="xref std std-term">lazy loads</span></a> 未加载的属性：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;some data&quot;</span></pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">inspect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inspect</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">added</span>
<span class="go">&quot;some data&quot;</span></pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--19-input--2" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--2">英文</label><div class="tab-content docutils container">
<p>In Python, a descriptor is an object attribute with “binding behavior”,
one whose attribute access has been overridden by methods in the
<a class="reference external" href="https://docs.python.org/howto/descriptor.html">descriptor protocol</a>.
Those methods are <code class="docutils literal notranslate"><span class="pre">__get__()</span></code>, <code class="docutils literal notranslate"><span class="pre">__set__()</span></code>, and <code class="docutils literal notranslate"><span class="pre">__delete__()</span></code>.
If any of those methods are defined for an object, it is said to be a
descriptor.</p>
<p>In SQLAlchemy, descriptors are used heavily in order to provide attribute behavior
on mapped classes.   When a class is mapped as such:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">MyClass</span></code> class will be <a class="reference internal" href="#term-mapped"><span class="xref std std-term">mapped</span></a> when its definition
is complete, at which point the <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">data</span></code> attributes,
starting out as <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects, will be replaced
by the <a class="reference internal" href="#term-instrumentation"><span class="xref std std-term">instrumentation</span></a> system with instances
of <a class="reference internal" href="orm/internals.html#sqlalchemy.orm.InstrumentedAttribute" title="sqlalchemy.orm.InstrumentedAttribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstrumentedAttribute</span></code></a>, which are descriptors that
provide the above mentioned <code class="docutils literal notranslate"><span class="pre">__get__()</span></code>, <code class="docutils literal notranslate"><span class="pre">__set__()</span></code> and
<code class="docutils literal notranslate"><span class="pre">__delete__()</span></code> methods.   The <a class="reference internal" href="orm/internals.html#sqlalchemy.orm.InstrumentedAttribute" title="sqlalchemy.orm.InstrumentedAttribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstrumentedAttribute</span></code></a>
will generate a SQL expression when used at the class level:</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">print</span><span class="p">(</span><span class="n">MyClass</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
<div class='show_sql_print'><span class="k">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">:</span><span class="n">data_1</span>
</div></pre></div>
</div>
<p>and at the instance level, keeps track of changes to values,
and also <a class="reference internal" href="#term-lazy-loads"><span class="xref std std-term">lazy loads</span></a> unloaded attributes
from the database:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;some data&quot;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">inspect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inspect</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">added</span>
<span class="go">&quot;some data&quot;</span></pre></div>
</div>
</div>
</div>
</dd>
<dt id="term-detached">detached<a class="headerlink" href="#term-detached" title="Link to this term">¶</a></dt><dt id="term-71">分离的<a class="headerlink" href="#term-71" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--20-input--1" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--1">中文</label><div class="tab-content docutils container">
<p>这描述了对象在 <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a> 中可以具有的主要对象状态之一；一个分离对象是具有数据库标识（即主键）但未与任何会话关联的对象。以前处于 <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a> 状态并被移出其会话的对象，无论是因为被删除还是拥有会话被关闭，都会移到分离状态。分离状态通常在对象在会话之间移动或在与外部对象缓存之间移动时使用。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--20-input--2" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--2">英文</label><div class="tab-content docutils container">
<p>This describes one of the major object states which
an object can have within a <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a>; a detached object
is an object that has a database identity (i.e. a primary key)
but is not associated with any session.  An object that
was previously <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a> and was removed from its
session either because it was expunged, or the owning
session was closed, moves into the detached state.
The detached state is generally used when objects are being
moved between sessions or when being moved to/from an external
object cache.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-dialect">dialect<a class="headerlink" href="#term-dialect" title="Link to this term">¶</a></dt><dt id="term-24">方言<a class="headerlink" href="#term-24" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--21-input--1" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--1">中文</label><div class="tab-content docutils container">
<p>在 SQLAlchemy 中，“方言”是一个 Python 对象，表示允许在特定类型的数据库后端和该数据库的特定类型的 Python 驱动程序（或 <a class="reference internal" href="#term-DBAPI"><span class="xref std std-term">DBAPI</span></a>）上进行数据库操作的信息和方法。SQLAlchemy 方言是 <a class="reference internal" href="core/internals.html#sqlalchemy.engine.Dialect" title="sqlalchemy.engine.Dialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code></a> 类的子类。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/engines.html#engines-toplevel"><span class="std std-ref">Engine 配置</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--21-input--2" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--2">英文</label><div class="tab-content docutils container">
<p>In SQLAlchemy, the “dialect” is a Python object that represents information
and methods that allow database operations to proceed on a particular
kind of database backend and a particular kind of Python driver (or
<a class="reference internal" href="#term-DBAPI"><span class="xref std std-term">DBAPI</span></a>) for that database.   SQLAlchemy dialects are subclasses
of the <a class="reference internal" href="core/internals.html#sqlalchemy.engine.Dialect" title="sqlalchemy.engine.Dialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code></a> class.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/engines.html#engines-toplevel"><span class="std std-ref">Engine 配置</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-discriminator">discriminator<a class="headerlink" href="#term-discriminator" title="Link to this term">¶</a></dt><dt id="term-25">鉴别器<a class="headerlink" href="#term-25" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--22-input--1" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--1">中文</label><div class="tab-content docutils container">
<p>一个结果集列，在 <a class="reference internal" href="#term-polymorphic"><span class="xref std std-term">polymorphic</span></a> 加载期间用于确定应将哪种映射类应用于特定的传入结果行。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/inheritance.html#inheritance-toplevel"><span class="std std-ref">映射类继承层次结构</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--22-input--2" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--2">英文</label><div class="tab-content docutils container">
<p>A result-set column which is used during <a class="reference internal" href="#term-polymorphic"><span class="xref std std-term">polymorphic</span></a> loading
to determine what kind of mapped class should be applied to a particular
incoming result row.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/inheritance.html#inheritance-toplevel"><span class="std std-ref">映射类继承层次结构</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-DML">DML<a class="headerlink" href="#term-DML" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--23-input--1" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--1">中文</label><div class="tab-content docutils container">
<p>一个 <strong>数据操作语言</strong> 的缩写。DML 是 SQL 的子集，关系数据库使用它来 <em>修改</em> 表中的数据。DML 通常指三个广为人知的语句：INSERT、UPDATE 和 DELETE，也称为 <a class="reference internal" href="#term-CRUD"><span class="xref std std-term">CRUD</span></a> （“创建、读取、更新、删除”的缩写）。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://zh.wikipedia.org/wiki/数据操纵语言">DML (via Wikipedia)</a></p>
<p><a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a></p>
<p><a class="reference internal" href="#term-DQL"><span class="xref std std-term">DQL</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--23-input--2" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--2">英文</label><div class="tab-content docutils container">
<p>An acronym for <strong>Data Manipulation Language</strong>.  DML is the subset of
SQL that relational databases use to <em>modify</em> the data in tables. DML
typically refers to the three widely familiar statements of INSERT,
UPDATE and  DELETE, otherwise known as <a class="reference internal" href="#term-CRUD"><span class="xref std std-term">CRUD</span></a> (acronym for “Create,
Read, Update, Delete”).</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Data_manipulation_language">DML (via Wikipedia)</a></p>
<p><a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a></p>
<p><a class="reference internal" href="#term-DQL"><span class="xref std std-term">DQL</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-domain-model">domain model<a class="headerlink" href="#term-domain-model" title="Link to this term">¶</a></dt><dt id="term-38">领域模型<a class="headerlink" href="#term-38" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--24-input--1" name="tab-set--24" type="radio"><label class="tab-label" for="tab-set--24-input--1">中文</label><div class="tab-content docutils container">
<p>领域模型在问题解决和软件工程中是与特定问题相关的所有主题的概念模型。它描述了各种实体、它们的属性、角色和关系，以及支配问题领域的约束。</p>
<p>（via Wikipedia）</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Domain_model">Domain Model (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--24-input--2" name="tab-set--24" type="radio"><label class="tab-label" for="tab-set--24-input--2">英文</label><div class="tab-content docutils container">
<p>A domain model in problem solving and software engineering is a conceptual model of all the topics related to a specific problem. It describes the various entities, their attributes, roles, and relationships, plus the constraints that govern the problem domain.</p>
<p>(via Wikipedia)</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Domain_model">Domain Model (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-DQL">DQL<a class="headerlink" href="#term-DQL" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--25-input--1" name="tab-set--25" type="radio"><label class="tab-label" for="tab-set--25-input--1">中文</label><div class="tab-content docutils container">
<p>一个 <strong>数据查询语言</strong> 的缩写。DQL 是 SQL 的子集，关系数据库使用它来 <em>读取</em> 表中的数据。DQL 几乎完全指 SQL SELECT 结构作为使用的顶级 SQL 语句。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Data_query_language">DQL (via Wikipedia)</a></p>
<p><a class="reference internal" href="#term-DML"><span class="xref std std-term">DML</span></a></p>
<p><a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--25-input--2" name="tab-set--25" type="radio"><label class="tab-label" for="tab-set--25-input--2">英文</label><div class="tab-content docutils container">
<p>An acronym for <strong>Data Query Language</strong>.  DQL is the subset of
SQL that relational databases use to <em>read</em> the data in tables.
DQL almost exclusively refers to the SQL SELECT construct as the
top level SQL statement in use.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Data_query_language">DQL (via Wikipedia)</a></p>
<p><a class="reference internal" href="#term-DML"><span class="xref std std-term">DML</span></a></p>
<p><a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-durability">durability<a class="headerlink" href="#term-durability" title="Link to this term">¶</a></dt><dt id="term-51">耐久性<a class="headerlink" href="#term-51" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--26-input--1" name="tab-set--26" type="radio"><label class="tab-label" for="tab-set--26-input--1">中文</label><div class="tab-content docutils container">
<p>持久性是 <a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a> 模型的一个属性，意味着一旦事务被提交，即使在断电、崩溃或错误的情况下，它也将保持提交状态。例如，在关系数据库中，一旦一组 SQL 语句执行完毕，结果需要永久存储（即使数据库在此后立即崩溃）。
（via Wikipedia）</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Durability_(database_systems)">Durability (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--26-input--2" name="tab-set--26" type="radio"><label class="tab-label" for="tab-set--26-input--2">英文</label><div class="tab-content docutils container">
<p>Durability is a property of the <a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a> model
which means that once a transaction has been committed,
it will remain so, even in the event of power loss, crashes,
or errors. In a relational database, for instance, once a
group of SQL statements execute, the results need to be stored
permanently (even if the database crashes immediately
thereafter).
(via Wikipedia)</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Durability_(database_systems)">Durability (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-eager-load">eager load<a class="headerlink" href="#term-eager-load" title="Link to this term">¶</a></dt><dt id="term-eager-loads">eager loads<a class="headerlink" href="#term-eager-loads" title="Link to this term">¶</a></dt><dt id="term-eager-loaded">eager loaded<a class="headerlink" href="#term-eager-loaded" title="Link to this term">¶</a></dt><dt id="term-eager-loading">eager loading<a class="headerlink" href="#term-eager-loading" title="Link to this term">¶</a></dt><dt id="term-eagerly-load">eagerly load<a class="headerlink" href="#term-eagerly-load" title="Link to this term">¶</a></dt><dt id="term-31">预加载<a class="headerlink" href="#term-31" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--27-input--1" name="tab-set--27" type="radio"><label class="tab-label" for="tab-set--27-input--1">中文</label><div class="tab-content docutils container">
<p>在对象关系映射中，“预加载”指的是在对象本身从数据库加载时，属性也会被填充其数据库端的值。在 SQLAlchemy 中，”预加载” 通常指的是使用 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> 构造在映射之间链接的相关集合和对象实例，但也可以指加载其他列属性，通常是从与正在查询的特定表相关的其他表中加载，例如使用 <a class="reference internal" href="orm/inheritance.html#inheritance-toplevel"><span class="std std-ref">inheritance</span></a> 映射时。</p>
<p>预加载是 <a class="reference internal" href="#term-lazy-loading"><span class="xref std std-term">lazy loading</span></a> 的对立面。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/queryguide/relationships.html"><span class="doc">关系加载技术</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--27-input--2" name="tab-set--27" type="radio"><label class="tab-label" for="tab-set--27-input--2">英文</label><div class="tab-content docutils container">
<p>In object relational mapping, an “eager load” refers to an attribute
that is populated with its database-side value at the same time as when
the object itself is loaded from the database. In SQLAlchemy, the term
“eager loading” usually refers to related collections and instances of
objects that are linked between mappings using the
<a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> construct, but can also refer to additional
column attributes being loaded, often from other tables related to a
particular table being queried, such as when using
<a class="reference internal" href="orm/inheritance.html#inheritance-toplevel"><span class="std std-ref">inheritance</span></a> mappings.</p>
<p>Eager loading is the opposite of <a class="reference internal" href="#term-lazy-loading"><span class="xref std std-term">lazy loading</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/queryguide/relationships.html"><span class="doc">关系加载技术</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-executemany">executemany<a class="headerlink" href="#term-executemany" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--28-input--1" name="tab-set--28" type="radio"><label class="tab-label" for="tab-set--28-input--1">中文</label><div class="tab-content docutils container">
<p>这个术语指的是 <span class="target" id="index-4"></span><a class="pep reference external" href="https://peps.python.org/pep-0249/"><strong>PEP 249</strong></a> DBAPI 规范的一部分，表示可以对数据库连接调用单个 SQL 语句，并使用多个参数集。具体方法称为 <a class="reference external" href="https://peps.python.org/pep-0249/#executemany">cursor.executemany()</a>，它与用于单语句调用的 <a class="reference external" href="https://peps.python.org/pep-0249/#execute">cursor.execute()</a> 方法有许多行为上的不同。“executemany” 方法多次执行给定的 SQL 语句，每次使用传递的一组参数。使用 executemany 的一般理由是提高性能，其中 DBAPI 可以使用诸如预先准备语句一次的技术，或以其他方式优化多次调用相同的语句。</p>
<p>当 <a class="reference internal" href="core/connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> 方法被使用并传递了一个参数字典列表时，SQLAlchemy 通常会自动使用 <code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code> 方法；这向 SQLAlchemy Core 表明，SQL 语句和处理后的参数集应传递给 <code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code>，驱动程序将为每个参数字典单独调用该语句。</p>
<p><code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code> 方法的一个关键限制是，当使用此方法时， <code class="docutils literal notranslate"><span class="pre">cursor</span></code> 未配置为返回行。对于 <strong>大多数</strong> 后端（一个显着的例外是 python-oracledb / cx_Oracle DBAPIs），这意味着像 <code class="docutils literal notranslate"><span class="pre">INSERT..RETURNING</span></code> 这样的语句通常不能直接与 <code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code> 一起使用，因为 DBAPIs 通常不会将每次 INSERT 执行的单行聚合在一起。</p>
<p>为克服此限制，SQLAlchemy 从 2.0 系列开始实现了一种称为 <a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a> 的替代形式的“executemany”。此功能使用 <code class="docutils literal notranslate"><span class="pre">cursor.execute()</span></code> 调用一个 INSERT 语句，该语句将在一次往返中处理多个参数集，从而产生与使用 <code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code> 相同的效果，同时仍然支持 RETURNING。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="tutorial/dbapi_transactions.html#tutorial-multiple-parameters"><span class="std std-ref">发送多个参数</span></a> - 对“executemany”的教程介绍</p>
<p><a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a> - 允许在“executemany”中使用 RETURNING 的 SQLAlchemy 功能</p>
</div>
</div>
<input class="tab-input" id="tab-set--28-input--2" name="tab-set--28" type="radio"><label class="tab-label" for="tab-set--28-input--2">英文</label><div class="tab-content docutils container">
<p>This term refers to a part of the <span class="target" id="index-5"></span><a class="pep reference external" href="https://peps.python.org/pep-0249/"><strong>PEP 249</strong></a> DBAPI specification
indicating a single SQL statement that may be invoked against a
database connection with multiple parameter sets.   The specific
method is known as
<a class="reference external" href="https://peps.python.org/pep-0249/#executemany">cursor.executemany()</a>,
and it has many behavioral differences in comparison to the
<a class="reference external" href="https://peps.python.org/pep-0249/#execute">cursor.execute()</a>
method which is used for single-statement invocation.   The “executemany”
method executes the given SQL statement multiple times, once for
each set of parameters passed.  The general rationale for using
executemany is that of improved performance, wherein the DBAPI may
use techniques such as preparing the statement just once beforehand,
or otherwise optimizing for invoking the same statement many times.</p>
<p>SQLAlchemy typically makes use of the <code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code> method
automatically when the <a class="reference internal" href="core/connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> method is
used where a list of parameter dictionaries were passed; this indicates
to SQLAlchemy Core that the SQL statement and processed parameter sets
should be passed to <code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code>, where the statement will
be invoked by the driver for each parameter dictionary individually.</p>
<p>A key limitation of the <code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code> method as used with
all known DBAPIs is that the <code class="docutils literal notranslate"><span class="pre">cursor</span></code> is not configured to return
rows when this method is used.  For <strong>most</strong> backends (a notable
exception being the python-oracledb / cx_Oracle DBAPIs), this means that
statements like <code class="docutils literal notranslate"><span class="pre">INSERT..RETURNING</span></code> typically cannot be used with
<code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code> directly, since DBAPIs typically do not
aggregate the single row from each INSERT execution together.</p>
<p>To overcome this limitation, SQLAlchemy as of the 2.0 series implements
an alternative form of “executemany” which is known as
<a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a>. This feature makes use of
<code class="docutils literal notranslate"><span class="pre">cursor.execute()</span></code> to invoke an INSERT statement that will proceed
with multiple parameter sets in one round trip, thus producing the same
effect as using <code class="docutils literal notranslate"><span class="pre">cursor.executemany()</span></code> while still supporting
RETURNING.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="tutorial/dbapi_transactions.html#tutorial-multiple-parameters"><span class="std std-ref">发送多个参数</span></a> - tutorial introduction to
“executemany”</p>
<p><a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a> - SQLAlchemy feature which allows
RETURNING to be used with “executemany”</p>
</div>
</div>
</div>
</dd>
<dt id="term-expire">expire<a class="headerlink" href="#term-expire" title="Link to this term">¶</a></dt><dt id="term-expired">expired<a class="headerlink" href="#term-expired" title="Link to this term">¶</a></dt><dt id="term-expires">expires<a class="headerlink" href="#term-expires" title="Link to this term">¶</a></dt><dt id="term-expiring">expiring<a class="headerlink" href="#term-expiring" title="Link to this term">¶</a></dt><dt id="term-Expiring">Expiring<a class="headerlink" href="#term-Expiring" title="Link to this term">¶</a></dt><dt id="term-40">过期<a class="headerlink" href="#term-40" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--29-input--1" name="tab-set--29" type="radio"><label class="tab-label" for="tab-set--29-input--1">中文</label><div class="tab-content docutils container">
<p>在 SQLAlchemy ORM 中，指的是当 <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a> 或有时是 <a class="reference internal" href="#term-detached"><span class="xref std std-term">detached</span></a> 对象中的数据被清除时，下次访问对象的属性时，将发出一个 <a class="reference internal" href="#term-lazy-load"><span class="xref std std-term">lazy load</span></a> SQL 查询，以便刷新当前正在进行的事务中存储的该对象的数据。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-expire"><span class="std std-ref">刷新/过期</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--29-input--2" name="tab-set--29" type="radio"><label class="tab-label" for="tab-set--29-input--2">英文</label><div class="tab-content docutils container">
<p>In the SQLAlchemy ORM, refers to when the data in a <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a>
or sometimes <a class="reference internal" href="#term-detached"><span class="xref std std-term">detached</span></a> object is erased, such that when
the object’s attributes are next accessed, a <a class="reference internal" href="#term-lazy-load"><span class="xref std std-term">lazy load</span></a> SQL
query will be emitted in order to refresh the data for this object
as stored in the current ongoing transaction.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-expire"><span class="std std-ref">刷新/过期</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-flush">flush<a class="headerlink" href="#term-flush" title="Link to this term">¶</a></dt><dt id="term-flushing">flushing<a class="headerlink" href="#term-flushing" title="Link to this term">¶</a></dt><dt id="term-flushed">flushed<a class="headerlink" href="#term-flushed" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--30-input--1" name="tab-set--30" type="radio"><label class="tab-label" for="tab-set--30-input--1">中文</label><div class="tab-content docutils container">
<p>这指的是 <a class="reference internal" href="#term-unit-of-work"><span class="xref std std-term">unit of work</span></a> 用于向数据库发出更改的实际过程。在 SQLAlchemy 中，这个过程通过 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> 对象发生，通常是自动的，但也可以手动控制。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_basics.html#session-flushing"><span class="std std-ref">刷新</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--30-input--2" name="tab-set--30" type="radio"><label class="tab-label" for="tab-set--30-input--2">英文</label><div class="tab-content docutils container">
<p>This refers to the actual process used by the <a class="reference internal" href="#term-unit-of-work"><span class="xref std std-term">unit of work</span></a>
to emit changes to a database.  In SQLAlchemy this process occurs
via the <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> object and is usually automatic, but
can also be controlled manually.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_basics.html#session-flushing"><span class="std std-ref">刷新</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-foreign-key-constraint">foreign key constraint<a class="headerlink" href="#term-foreign-key-constraint" title="Link to this term">¶</a></dt><dt id="term-63">外键约束<a class="headerlink" href="#term-63" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--31-input--1" name="tab-set--31" type="radio"><label class="tab-label" for="tab-set--31-input--1">中文</label><div class="tab-content docutils container">
<p>一个表之间的参照约束。外键是关系表中的一个字段或一组字段，与另一个表的 <a class="reference internal" href="#term-candidate-key"><span class="xref std std-term">candidate key</span></a> 匹配。外键可用于交叉引用表。
(via Wikipedia)</p>
<p>可以使用标准 SQL 中的 <a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a> 向表添加外键约束，如下所示：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">dep_id_fk</span>
<span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">employee</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="p">(</span><span class="n">dep_id</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Foreign_key_constraint">Foreign Key Constraint (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--31-input--2" name="tab-set--31" type="radio"><label class="tab-label" for="tab-set--31-input--2">英文</label><div class="tab-content docutils container">
<p>A referential constraint between two tables.  A foreign key is a field or set of fields in a
relational table that matches a <a class="reference internal" href="#term-candidate-key"><span class="xref std std-term">candidate key</span></a> of another table.
The foreign key can be used to cross-reference tables.
(via Wikipedia)</p>
<p>A foreign key constraint can be added to a table in standard
SQL using <a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a> like the following:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">dep_id_fk</span>
<span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">employee</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="p">(</span><span class="n">dep_id</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Foreign_key_constraint">Foreign Key Constraint (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-FROM-clause">FROM clause<a class="headerlink" href="#term-FROM-clause" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--32-input--1" name="tab-set--32" type="radio"><label class="tab-label" for="tab-set--32-input--1">中文</label><div class="tab-content docutils container">
<p><code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 语句中指示行的初始来源的部分。</p>
<p>一个简单的 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 将在其 FROM 子句中包含一个或多个表名。多个来源用逗号分隔：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">.</span><span class="n">email_address</span>
<span class="k">FROM</span><span class="w"> </span><span class="k">user</span><span class="p">,</span><span class="w"> </span><span class="n">address</span>
<span class="k">WHERE</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="n">address</span><span class="p">.</span><span class="n">user_id</span></pre></div>
</div>
<p>FROM 子句也是指定显式连接的地方。我们可以使用一个包含两个表的 <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> 的单个 <code class="docutils literal notranslate"><span class="pre">FROM</span></code> 元素重写上述 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">.</span><span class="n">email_address</span>
<span class="k">FROM</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="n">address</span><span class="p">.</span><span class="n">user_id</span></pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--32-input--2" name="tab-set--32" type="radio"><label class="tab-label" for="tab-set--32-input--2">英文</label><div class="tab-content docutils container">
<p>The portion of the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement which indicates the initial
source of rows.</p>
<p>A simple <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> will feature one or more table names in its
FROM clause.  Multiple sources are separated by a comma:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">.</span><span class="n">email_address</span>
<span class="k">FROM</span><span class="w"> </span><span class="k">user</span><span class="p">,</span><span class="w"> </span><span class="n">address</span>
<span class="k">WHERE</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="n">address</span><span class="p">.</span><span class="n">user_id</span></pre></div>
</div>
<p>The FROM clause is also where explicit joins are specified.  We can
rewrite the above <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> using a single <code class="docutils literal notranslate"><span class="pre">FROM</span></code> element which consists
of a <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> of the two tables:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">.</span><span class="n">email_address</span>
<span class="k">FROM</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">id</span><span class="o">=</span><span class="n">address</span><span class="p">.</span><span class="n">user_id</span></pre></div>
</div>
</div>
</div>
</dd>
<dt id="term-identity-key">identity key<a class="headerlink" href="#term-identity-key" title="Link to this term">¶</a></dt><dt id="term-27">身份密钥<a class="headerlink" href="#term-27" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--33-input--1" name="tab-set--33" type="radio"><label class="tab-label" for="tab-set--33-input--1">中文</label><div class="tab-content docutils container">
<p>一个与 ORM 映射对象关联的键，用于标识它们在数据库中的主键标识，以及它们在 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> <a class="reference internal" href="#term-identity-map"><span class="xref std std-term">identity map</span></a> 中的唯一标识。</p>
<p>在 SQLAlchemy 中，您可以使用 <a class="reference internal" href="core/inspection.html#sqlalchemy.inspect" title="sqlalchemy.inspect"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect()</span></code></a> API 查看 ORM 对象的标识键，以返回 <a class="reference internal" href="orm/internals.html#sqlalchemy.orm.InstanceState" title="sqlalchemy.orm.InstanceState"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstanceState</span></code></a> 跟踪对象，然后查看 <code class="xref py py-attr docutils literal notranslate"><span class="pre">InstanceState.key</span></code> 属性:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">inspect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inspect</span><span class="p">(</span><span class="n">some_object</span><span class="p">)</span><span class="o">.</span><span class="n">key</span>
<span class="go">(&lt;class &#39;__main__.MyTable&#39;&gt;, (1,), None)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-identity-map"><span class="xref std std-term">identity map</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--33-input--2" name="tab-set--33" type="radio"><label class="tab-label" for="tab-set--33-input--2">英文</label><div class="tab-content docutils container">
<p>A key associated with ORM-mapped objects that identifies their
primary key identity within the database, as well as their unique
identity within a <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> <a class="reference internal" href="#term-identity-map"><span class="xref std std-term">identity map</span></a>.</p>
<p>In SQLAlchemy, you can view the identity key for an ORM object
using the <a class="reference internal" href="core/inspection.html#sqlalchemy.inspect" title="sqlalchemy.inspect"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect()</span></code></a> API to return the <a class="reference internal" href="orm/internals.html#sqlalchemy.orm.InstanceState" title="sqlalchemy.orm.InstanceState"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstanceState</span></code></a>
tracking object, then looking at the <code class="xref py py-attr docutils literal notranslate"><span class="pre">InstanceState.key</span></code>
attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">inspect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inspect</span><span class="p">(</span><span class="n">some_object</span><span class="p">)</span><span class="o">.</span><span class="n">key</span>
<span class="go">(&lt;class &#39;__main__.MyTable&#39;&gt;, (1,), None)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-identity-map"><span class="xref std std-term">identity map</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-identity-map">identity map<a class="headerlink" href="#term-identity-map" title="Link to this term">¶</a></dt><dt id="term-28">身份映射<a class="headerlink" href="#term-28" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--34-input--1" name="tab-set--34" type="radio"><label class="tab-label" for="tab-set--34-input--1">中文</label><div class="tab-content docutils container">
<p>Python 对象及其数据库标识之间的映射。身份映射是与 ORM <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a> 对象关联的集合，并维护每个数据库对象的单个实例，该实例以其标识为键。这种模式的优点是，针对特定数据库标识进行的所有操作都透明地协调到单个对象实例上。当将身份映射与 <a class="reference internal" href="#term-isolated"><span class="xref std std-term">isolated</span></a> 事务结合使用时，具有特定主键的对象引用在实际操作中可以视为实际数据库行的代理。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://martinfowler.com/eaaCatalog/identityMap.html">Identity Map (via Martin Fowler)</a></p>
<p><a class="reference internal" href="orm/session_basics.html#session-get"><span class="std std-ref">通过主键获取</span></a> - 如何通过主键在身份映射中查找对象</p>
</div>
</div>
<input class="tab-input" id="tab-set--34-input--2" name="tab-set--34" type="radio"><label class="tab-label" for="tab-set--34-input--2">英文</label><div class="tab-content docutils container">
<p>A mapping between Python objects and their database identities.
The identity map is a collection that’s associated with an
ORM <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a> object, and maintains a single instance
of every database object keyed to its identity.   The advantage
to this pattern is that all operations which occur for a particular
database identity are transparently coordinated onto a single
object instance.  When using an identity map in conjunction with
an <a class="reference internal" href="#term-isolated"><span class="xref std std-term">isolated</span></a> transaction, having a reference
to an object that’s known to have a particular primary key can
be considered from a practical standpoint to be a
proxy to the actual database row.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://martinfowler.com/eaaCatalog/identityMap.html">Identity Map (via Martin Fowler)</a></p>
<p><a class="reference internal" href="orm/session_basics.html#session-get"><span class="std std-ref">通过主键获取</span></a> - how to look up an object in the identity map
by primary key</p>
</div>
</div>
</div>
</dd>
<dt id="term-insertmanyvalues">insertmanyvalues<a class="headerlink" href="#term-insertmanyvalues" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--35-input--1" name="tab-set--35" type="radio"><label class="tab-label" for="tab-set--35-input--1">中文</label><div class="tab-content docutils container">
<p>这是一个 SQLAlchemy 特定功能，允许 INSERT 语句在单个语句中发出数千行新行，同时允许使用 RETURNING 或类似方式从语句中内联返回服务器生成的值，以进行性能优化。该功能旨在为选定的后端透明地提供，但确实提供了一些配置选项。有关此功能的完整描述，请参阅 <a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a> 部分。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--35-input--2" name="tab-set--35" type="radio"><label class="tab-label" for="tab-set--35-input--2">英文</label><div class="tab-content docutils container">
<p>This refers to a SQLAlchemy-specific feature which allows INSERT
statements to emit thousands of new rows within a single statement
while at the same time allowing server generated values to be returned
inline from the statement using RETURNING or similar, for performance
optimization purposes. The feature is intended to be transparently
available for selected backends, but does offer some configurational
options. See the section <a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a> for a full
description of this feature.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-instrumentation">instrumentation<a class="headerlink" href="#term-instrumentation" title="Link to this term">¶</a></dt><dt id="term-instrumented">instrumented<a class="headerlink" href="#term-instrumented" title="Link to this term">¶</a></dt><dt id="term-26">仪器化<a class="headerlink" href="#term-26" title="Link to this term">¶</a></dt><dt id="term-instrumenting">instrumenting<a class="headerlink" href="#term-instrumenting" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--36-input--1" name="tab-set--36" type="radio"><label class="tab-label" for="tab-set--36-input--1">中文</label><div class="tab-content docutils container">
<p>Instrumentation 是指增强特定类的功能和属性集的过程。理想情况下，类的行为应保持接近普通类，只是提供了额外的行为和功能。SQLAlchemy 的 <a class="reference internal" href="#term-mapping"><span class="xref std std-term">mapping</span></a> 过程除了其他功能外，还会向映射类添加数据库启用的 <a class="reference internal" href="#term-descriptors"><span class="xref std std-term">descriptors</span></a>，每个描述符代表一个特定的数据库列或与相关类的关系。</p>
</div>
<input class="tab-input" id="tab-set--36-input--2" name="tab-set--36" type="radio"><label class="tab-label" for="tab-set--36-input--2">英文</label><div class="tab-content docutils container">
<p>Instrumentation refers to the process of augmenting the functionality
and attribute set of a particular class.   Ideally, the
behavior of the class should remain close to a regular
class, except that additional behaviors and features are
made available.  The SQLAlchemy <a class="reference internal" href="#term-mapping"><span class="xref std std-term">mapping</span></a> process,
among other things, adds database-enabled <a class="reference internal" href="#term-descriptors"><span class="xref std std-term">descriptors</span></a>
to a mapped
class each of which represents a particular database column
or relationship to a related class.</p>
</div>
</div>
</dd>
<dt id="term-isolation">isolation<a class="headerlink" href="#term-isolation" title="Link to this term">¶</a></dt><dt id="term-isolated">isolated<a class="headerlink" href="#term-isolated" title="Link to this term">¶</a></dt><dt id="term-isolation-level">isolation level<a class="headerlink" href="#term-isolation-level" title="Link to this term">¶</a></dt><dt id="term-46">隔离级别<a class="headerlink" href="#term-46" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--37-input--1" name="tab-set--37" type="radio"><label class="tab-label" for="tab-set--37-input--1">中文</label><div class="tab-content docutils container">
<p>隔离性是 <a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a> 模型的组成部分之一，确保事务的并发执行结果是一个系统状态，该状态将是事务按顺序执行时获得的状态，即一个接一个地执行。每个事务必须在完全隔离的情况下执行，即如果 T1 和 T2 并发执行，则每个事务应保持独立。（via Wikipedia）</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Isolation_(database_systems)">Isolation (via Wikipedia)</a></p>
<p><a class="reference internal" href="#term-read-uncommitted"><span class="xref std std-term">read uncommitted</span></a></p>
<p><a class="reference internal" href="#term-read-committed"><span class="xref std std-term">read committed</span></a></p>
<p><a class="reference internal" href="#term-repeatable-read"><span class="xref std std-term">repeatable read</span></a></p>
<p><a class="reference internal" href="#term-serializable"><span class="xref std std-term">serializable</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--37-input--2" name="tab-set--37" type="radio"><label class="tab-label" for="tab-set--37-input--2">英文</label><div class="tab-content docutils container">
<p>The isolation property of the <a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a> model
ensures that the concurrent execution
of transactions results in a system state that would be
obtained if transactions were executed serially, i.e. one
after the other. Each transaction must execute in total
isolation i.e. if T1 and T2 execute concurrently then each
should remain independent of the other.
(via Wikipedia)</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-ACID"><span class="xref std std-term">ACID</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Isolation_(database_systems)">Isolation (via Wikipedia)</a></p>
<p><a class="reference internal" href="#term-read-uncommitted"><span class="xref std std-term">read uncommitted</span></a></p>
<p><a class="reference internal" href="#term-read-committed"><span class="xref std std-term">read committed</span></a></p>
<p><a class="reference internal" href="#term-repeatable-read"><span class="xref std std-term">repeatable read</span></a></p>
<p><a class="reference internal" href="#term-serializable"><span class="xref std std-term">serializable</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-lazy-initialization">lazy initialization<a class="headerlink" href="#term-lazy-initialization" title="Link to this term">¶</a></dt><dt id="term-29">延迟初始化<a class="headerlink" href="#term-29" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--38-input--1" name="tab-set--38" type="radio"><label class="tab-label" for="tab-set--38-input--1">中文</label><div class="tab-content docutils container">
<p>一种延迟某些初始化操作的策略，例如创建对象、填充数据或建立与其他服务的连接，直到需要这些资源时才进行。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Lazy_initialization">Lazy initialization (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--38-input--2" name="tab-set--38" type="radio"><label class="tab-label" for="tab-set--38-input--2">英文</label><div class="tab-content docutils container">
<p>A tactic of delaying some initialization action, such as creating objects,
populating data, or establishing connectivity to other services, until
those resources are required.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Lazy_initialization">Lazy initialization (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-lazy-load">lazy load<a class="headerlink" href="#term-lazy-load" title="Link to this term">¶</a></dt><dt id="term-lazy-loads">lazy loads<a class="headerlink" href="#term-lazy-loads" title="Link to this term">¶</a></dt><dt id="term-lazy-loaded">lazy loaded<a class="headerlink" href="#term-lazy-loaded" title="Link to this term">¶</a></dt><dt id="term-lazy-loading">lazy loading<a class="headerlink" href="#term-lazy-loading" title="Link to this term">¶</a></dt><dt id="term-30">延迟加载<a class="headerlink" href="#term-30" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--39-input--1" name="tab-set--39" type="radio"><label class="tab-label" for="tab-set--39-input--1">中文</label><div class="tab-content docutils container">
<p>在对象关系映射中，“延迟加载”指的是在某段时间内（通常是对象首次加载时）属性不包含其数据库端的值。相反，属性会接收到一个 <em>memoization</em>，使其在首次使用时访问数据库并加载数据。使用这种模式，有时可以减少对象获取的复杂性和时间，因为不需要立即处理相关表的属性。</p>
<p>延迟加载是 <a class="reference internal" href="#term-eager-loading"><span class="xref std std-term">eager loading</span></a> 的对立面。</p>
<p>在 SQLAlchemy 中，延迟加载是 ORM 的一个关键特性，适用于用户定义类上 <a class="reference internal" href="#term-mapped"><span class="xref std std-term">mapped</span></a> 的属性。当访问引用数据库列或相关对象的属性时，如果没有加载值，ORM 将使用当前对象所关联的 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> 在 <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a> 状态下，并在当前事务上发出一个 SELECT 语句，如果没有进行中的事务，则启动一个新事务。如果对象处于 <a class="reference internal" href="#term-detached"><span class="xref std std-term">detached</span></a> 状态且未与任何 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> 关联，这被视为错误状态并引发 <a class="reference internal" href="errors.html#error-bhk3"><span class="std std-ref">informative exception</span></a>。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://martinfowler.com/eaaCatalog/lazyLoad.html">Lazy Load (via Martin Fowler)</a></p>
<p><a class="reference internal" href="#term-N-plus-one-problem"><span class="xref std std-term">N plus one problem</span></a></p>
<p><a class="reference internal" href="orm/queryguide/columns.html#loading-columns"><span class="std std-ref">列加载选项</span></a> - 包含有关 ORM 映射列的延迟加载信息</p>
<p><a class="reference internal" href="orm/queryguide/relationships.html"><span class="doc">关系加载技术</span></a> - 包含有关 ORM 相关对象的延迟加载信息</p>
<p><a class="reference internal" href="orm/extensions/asyncio.html#asyncio-orm-avoid-lazyloads"><span class="std std-ref">使用 AsyncSession 时防止隐式 IO</span></a> - 在使用 <a class="reference internal" href="orm/extensions/asyncio.html#asyncio-toplevel"><span class="std std-ref">异步 I/O (asyncio)</span></a> 扩展时避免延迟加载的提示</p>
</div>
</div>
<input class="tab-input" id="tab-set--39-input--2" name="tab-set--39" type="radio"><label class="tab-label" for="tab-set--39-input--2">英文</label><div class="tab-content docutils container">
<p>In object relational mapping, a “lazy load” refers to an
attribute that does not contain its database-side value
for some period of time, typically when the object is
first loaded.  Instead, the attribute receives a
<em>memoization</em> that causes it to go out to the database
and load its data when it’s first used.   Using this pattern,
the complexity and time spent within object fetches can
sometimes be reduced, in that
attributes for related tables don’t need to be addressed
immediately.</p>
<p>Lazy loading is the opposite of <a class="reference internal" href="#term-eager-loading"><span class="xref std std-term">eager loading</span></a>.</p>
<p>Within SQLAlchemy, lazy loading is a key feature of the ORM, and
applies to attributes which are <a class="reference internal" href="#term-mapped"><span class="xref std std-term">mapped</span></a> on a user-defined class.
When attributes that refer to database columns or related objects
are accessed, for which no loaded value is present, the ORM makes
use of the <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> for which the current object is
associated with in the <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a> state, and emits a SELECT
statement on the current transaction, starting a new transaction if
one was not in progress.   If the object is in the <a class="reference internal" href="#term-detached"><span class="xref std std-term">detached</span></a>
state and not associated with any <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>, this is
considered to be an error state and an
<a class="reference internal" href="errors.html#error-bhk3"><span class="std std-ref">informative exception</span></a> is raised.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://martinfowler.com/eaaCatalog/lazyLoad.html">Lazy Load (via Martin Fowler)</a></p>
<p><a class="reference internal" href="#term-N-plus-one-problem"><span class="xref std std-term">N plus one problem</span></a></p>
<p><a class="reference internal" href="orm/queryguide/columns.html#loading-columns"><span class="std std-ref">列加载选项</span></a> - includes information on lazy loading of
ORM mapped columns</p>
<p><a class="reference internal" href="orm/queryguide/relationships.html"><span class="doc">关系加载技术</span></a> - includes information on lazy
loading of ORM related objects</p>
<p><a class="reference internal" href="orm/extensions/asyncio.html#asyncio-orm-avoid-lazyloads"><span class="std std-ref">使用 AsyncSession 时防止隐式 IO</span></a> - tips on avoiding lazy loading
when using the <a class="reference internal" href="orm/extensions/asyncio.html#asyncio-toplevel"><span class="std std-ref">异步 I/O (asyncio)</span></a> extension</p>
</div>
</div>
</div>
</dd>
<dt id="term-many-to-many">many to many<a class="headerlink" href="#term-many-to-many" title="Link to this term">¶</a></dt><dt id="term-55">多对多<a class="headerlink" href="#term-55" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--40-input--1" name="tab-set--40" type="radio"><label class="tab-label" for="tab-set--40-input--1">中文</label><div class="tab-content docutils container">
<p>一种 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlalchemy.orm.relationship()</span></code></a> 样式，通过中间表将两个表链接在一起。使用此配置，左侧的任意数量的行可以引用右侧的任意数量的行，反之亦然。</p>
<p>一个将员工与项目关联的模式：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">project</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee_project</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">employee_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">project_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">employee_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">employee</span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">project_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">project</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>如上所述， <code class="docutils literal notranslate"><span class="pre">employee_project</span></code> 表是多对多表，自然形成由每个相关表的主键组成的复合主键。</p>
<p>在 SQLAlchemy 中，<a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlalchemy.orm.relationship()</span></code></a> 函数可以以大多数透明的方式表示这种关系，其中多对多表使用简单的表元数据指定:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>

    <span class="n">projects</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="s2">&quot;Project&quot;</span><span class="p">,</span>
        <span class="n">secondary</span><span class="o">=</span><span class="n">Table</span><span class="p">(</span>
            <span class="s2">&quot;employee_project&quot;</span><span class="p">,</span>
            <span class="n">Base</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;employee_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;employee.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;project_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;project.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="n">backref</span><span class="o">=</span><span class="s2">&quot;employees&quot;</span><span class="p">,</span>
    <span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Project</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;project&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>如上所述，定义了 <code class="docutils literal notranslate"><span class="pre">Employee.projects</span></code> 和反向引用的 <code class="docutils literal notranslate"><span class="pre">Project.employees</span></code> 集合:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">proj</span> <span class="o">=</span> <span class="n">Project</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Client A&quot;</span><span class="p">)</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;emp1&quot;</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;emp2&quot;</span><span class="p">)</span>

<span class="n">proj</span><span class="o">.</span><span class="n">employees</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">emp1</span><span class="p">,</span> <span class="n">emp2</span><span class="p">])</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-association-relationship"><span class="xref std std-term">association relationship</span></a></p>
<p><a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a></p>
<p><a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a></p>
<p><a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--40-input--2" name="tab-set--40" type="radio"><label class="tab-label" for="tab-set--40-input--2">英文</label><div class="tab-content docutils container">
<p>A style of <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlalchemy.orm.relationship()</span></code></a> which links two tables together
via an intermediary table in the middle.   Using this configuration,
any number of rows on the left side may refer to any number of
rows on the right, and vice versa.</p>
<p>A schema where employees can be associated with projects:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">project</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee_project</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">employee_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">project_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">employee</span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">project_id</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">project</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>Above, the <code class="docutils literal notranslate"><span class="pre">employee_project</span></code> table is the many-to-many table,
which naturally forms a composite primary key consisting
of the primary key from each related table.</p>
<p>In SQLAlchemy, the <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlalchemy.orm.relationship()</span></code></a> function
can represent this style of relationship in a mostly
transparent fashion, where the many-to-many table is
specified using plain table metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>

    <span class="n">projects</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="s2">&quot;Project&quot;</span><span class="p">,</span>
        <span class="n">secondary</span><span class="o">=</span><span class="n">Table</span><span class="p">(</span>
            <span class="s2">&quot;employee_project&quot;</span><span class="p">,</span>
            <span class="n">Base</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;employee_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;employee.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;project_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;project.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="n">backref</span><span class="o">=</span><span class="s2">&quot;employees&quot;</span><span class="p">,</span>
    <span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Project</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;project&quot;</span>

    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<p>Above, the <code class="docutils literal notranslate"><span class="pre">Employee.projects</span></code> and back-referencing <code class="docutils literal notranslate"><span class="pre">Project.employees</span></code>
collections are defined:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">proj</span> <span class="o">=</span> <span class="n">Project</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Client A&quot;</span><span class="p">)</span>

<span class="n">emp1</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;emp1&quot;</span><span class="p">)</span>
<span class="n">emp2</span> <span class="o">=</span> <span class="n">Employee</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;emp2&quot;</span><span class="p">)</span>

<span class="n">proj</span><span class="o">.</span><span class="n">employees</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">emp1</span><span class="p">,</span> <span class="n">emp2</span><span class="p">])</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-association-relationship"><span class="xref std std-term">association relationship</span></a></p>
<p><a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a></p>
<p><a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a></p>
<p><a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-many-to-one">many to one<a class="headerlink" href="#term-many-to-one" title="Link to this term">¶</a></dt><dt id="term-53">多对一<a class="headerlink" href="#term-53" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--41-input--1" name="tab-set--41" type="radio"><label class="tab-label" for="tab-set--41-input--1">中文</label><div class="tab-content docutils container">
<p>一种 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> 样式，它将父映射器表中的外键链接到相关表的主键。每个父对象可以引用零个或一个相关对象。</p>
<p>相关对象反过来将与引用它们的任意数量的父对象具有隐式或显式的 <a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a> 关系。</p>
<p>一个多对一模式的示例（请注意，这与 <a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a> 模式相同）：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">    </span><span class="n">dep_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">employee</span></code> 到 <code class="docutils literal notranslate"><span class="pre">department</span></code> 的关系是多对一，因为许多员工记录可以与一个部门关联。一个 SQLAlchemy 映射可能如下所示:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Department</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;department&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">dep_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;department.id&quot;</span><span class="p">))</span>
    <span class="n">department</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Department&quot;</span><span class="p">)</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a></p>
<p><a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a></p>
<p><a class="reference internal" href="#term-backref"><span class="xref std std-term">backref</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--41-input--2" name="tab-set--41" type="radio"><label class="tab-label" for="tab-set--41-input--2">英文</label><div class="tab-content docutils container">
<p>A style of <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> which links
a foreign key in the parent mapper’s table to the primary
key of a related table.   Each parent object can
then refer to exactly zero or one related object.</p>
<p>The related objects in turn will have an implicit or
explicit <a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a> relationship to any number
of parent objects that refer to them.</p>
<p>An example many to one schema (which, note, is identical
to the <a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a> schema):</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">    </span><span class="n">dep_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>The relationship from <code class="docutils literal notranslate"><span class="pre">employee</span></code> to <code class="docutils literal notranslate"><span class="pre">department</span></code> is
many to one, since many employee records can be associated with a
single department.  A SQLAlchemy mapping might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Department</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;department&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">dep_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;department.id&quot;</span><span class="p">))</span>
    <span class="n">department</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Department&quot;</span><span class="p">)</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a></p>
<p><a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a></p>
<p><a class="reference internal" href="#term-backref"><span class="xref std std-term">backref</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-mapping">mapping<a class="headerlink" href="#term-mapping" title="Link to this term">¶</a></dt><dt id="term-mapped">mapped<a class="headerlink" href="#term-mapped" title="Link to this term">¶</a></dt><dt id="term-mapped-class">mapped class<a class="headerlink" href="#term-mapped-class" title="Link to this term">¶</a></dt><dt id="term-ORM-mapped-class">ORM mapped class<a class="headerlink" href="#term-ORM-mapped-class" title="Link to this term">¶</a></dt><dt id="term-32">映射类<a class="headerlink" href="#term-32" title="Link to this term">¶</a></dt><dt id="term-33">ORM映射类<a class="headerlink" href="#term-33" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--42-input--1" name="tab-set--42" type="radio"><label class="tab-label" for="tab-set--42-input--1">中文</label><div class="tab-content docutils container">
<p>我们说一个类是“映射的”，当它与 <a class="reference internal" href="orm/mapping_api.html#sqlalchemy.orm.Mapper" title="sqlalchemy.orm.Mapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mapper</span></code></a> 类的实例关联时。这个过程将类与数据库表或其他 <a class="reference internal" href="#term-selectable"><span class="xref std std-term">selectable</span></a> 构造关联在一起，以便可以使用 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> 持久化和加载它的实例。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/mapping_styles.html#orm-mapping-classes-toplevel"><span class="std std-ref">ORM 映射类概述</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--42-input--2" name="tab-set--42" type="radio"><label class="tab-label" for="tab-set--42-input--2">英文</label><div class="tab-content docutils container">
<p>We say a class is “mapped” when it has been associated with an
instance of the <a class="reference internal" href="orm/mapping_api.html#sqlalchemy.orm.Mapper" title="sqlalchemy.orm.Mapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mapper</span></code></a> class. This process associates
the class with a database table or other <a class="reference internal" href="#term-selectable"><span class="xref std std-term">selectable</span></a> construct,
so that instances of it can be persisted and loaded using a
<a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/mapping_styles.html#orm-mapping-classes-toplevel"><span class="std std-ref">ORM 映射类概述</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-marshalling">marshalling<a class="headerlink" href="#term-marshalling" title="Link to this term">¶</a></dt><dt id="term-17">数据编组<a class="headerlink" href="#term-17" title="Link to this term">¶</a></dt><dt id="term-data-marshalling">data marshalling<a class="headerlink" href="#term-data-marshalling" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--43-input--1" name="tab-set--43" type="radio"><label class="tab-label" for="tab-set--43-input--1">中文</label><div class="tab-content docutils container">
<p>将对象的内存表示转换为适合存储或传输到系统另一部分的数据格式的过程，当数据必须在计算机程序的不同部分之间或从一个程序移动到另一个程序时。就 SQLAlchemy 而言，我们通常需要将数据“编组”成适合传递到关系数据库的格式。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://zh.wikipedia.org/wiki/Marshalling_(计算机科学)">Marshalling (via Wikipedia)</a></p>
<p><a class="reference internal" href="core/custom_types.html#types-typedecorator"><span class="std std-ref">增强现有类型</span></a> - SQLAlchemy 的 <a class="reference internal" href="core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a> 通常用于将数据发送到数据库进行 INSERT 和 UPDATE 语句时的数据编组，以及使用 SELECT 语句检索数据时的“解组”。</p>
</div>
</div>
<input class="tab-input" id="tab-set--43-input--2" name="tab-set--43" type="radio"><label class="tab-label" for="tab-set--43-input--2">英文</label><div class="tab-content docutils container">
<p>The process of transforming the memory representation of an object to
a data format suitable for storage or transmission to another part of
a system, when data must be moved between different parts of a
computer program or from one program to another.   In terms of
SQLAlchemy, we often need to “marshal” data into a format appropriate
for passing into the relational database.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Marshalling_(computer_science)">Marshalling (via Wikipedia)</a></p>
<p><a class="reference internal" href="core/custom_types.html#types-typedecorator"><span class="std std-ref">增强现有类型</span></a> - SQLAlchemy’s <a class="reference internal" href="core/custom_types.html#sqlalchemy.types.TypeDecorator" title="sqlalchemy.types.TypeDecorator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeDecorator</span></code></a>
is commonly used for data marshalling as data is sent into the
database for INSERT and UPDATE statements, and “unmarshalling”
data as it is retrieved using SELECT statements.</p>
</div>
</div>
</div>
</dd>
<dt id="term-metadata">metadata<a class="headerlink" href="#term-metadata" title="Link to this term">¶</a></dt><dt id="term-19">元数据<a class="headerlink" href="#term-19" title="Link to this term">¶</a></dt><dt id="term-database-metadata">database metadata<a class="headerlink" href="#term-database-metadata" title="Link to this term">¶</a></dt><dt id="term-20">数据库元数据<a class="headerlink" href="#term-20" title="Link to this term">¶</a></dt><dt id="term-table-metadata">table metadata<a class="headerlink" href="#term-table-metadata" title="Link to this term">¶</a></dt><dt id="term-21">表元数据<a class="headerlink" href="#term-21" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--44-input--1" name="tab-set--44" type="radio"><label class="tab-label" for="tab-set--44-input--1">中文</label><div class="tab-content docutils container">
<p>术语 “元数据” 通常指“ 描述数据的数据”；本身代表某种其他数据格式和/或结构的数据。在 SQLAlchemy 中，术语 “元数据” 通常指 <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> 构造，它是关于表、列、约束和其他可能存在于特定数据库中的 <a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a> 对象的信息集合。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://www.martinfowler.com/eaaCatalog/metadataMapping.html">Metadata Mapping (via Martin Fowler)</a></p>
<p><a class="reference internal" href="tutorial/metadata.html#tutorial-working-with-metadata"><span class="std std-ref">使用数据库元数据</span></a>  - 在 <a class="reference internal" href="tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 统一教程</span></a> 中</p>
</div>
</div>
<input class="tab-input" id="tab-set--44-input--2" name="tab-set--44" type="radio"><label class="tab-label" for="tab-set--44-input--2">英文</label><div class="tab-content docutils container">
<p>The term “metadata” generally refers to “data that describes data”;
data that itself represents the format and/or structure of some other
kind of data.  In SQLAlchemy, the term “metadata” typically refers  to
the <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> construct, which is a collection of information
about the tables, columns, constraints, and other <a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a> objects
that may exist in a particular database.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://www.martinfowler.com/eaaCatalog/metadataMapping.html">Metadata Mapping (via Martin Fowler)</a></p>
<p><a class="reference internal" href="tutorial/metadata.html#tutorial-working-with-metadata"><span class="std std-ref">使用数据库元数据</span></a>  - in the <a class="reference internal" href="tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 统一教程</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-method-chaining">method chaining<a class="headerlink" href="#term-method-chaining" title="Link to this term">¶</a></dt><dt id="term-35">方法链<a class="headerlink" href="#term-35" title="Link to this term">¶</a></dt><dt id="term-generative">generative<a class="headerlink" href="#term-generative" title="Link to this term">¶</a></dt><dt id="term-36">生成式<a class="headerlink" href="#term-36" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--45-input--1" name="tab-set--45" type="radio"><label class="tab-label" for="tab-set--45-input--1">中文</label><div class="tab-content docutils container">
<p>“方法链”，在 SQLAlchemy 文档中称为“生成式”，是一种面向对象的技术，通过在对象上调用方法来构建对象的状态。对象具有任意数量的方法，每个方法返回一个具有附加状态的新对象（或在某些情况下相同的对象）。</p>
<p>在 SQLAlchemy 中，最常使用方法链的两个对象是 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 对象和 <a class="reference internal" href="orm/queryguide/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> 对象。例如，可以通过调用 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a> 和 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select.order_by" title="sqlalchemy.sql.expression.Select.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.order_by()</span></code></a> 方法，为 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 对象的 WHERE 子句分配两个表达式以及一个 ORDER BY 子句:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">select</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;e%&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>上述每个方法调用都会返回原始 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 对象的副本，并添加附加的限定符。</p>
</div>
<input class="tab-input" id="tab-set--45-input--2" name="tab-set--45" type="radio"><label class="tab-label" for="tab-set--45-input--2">英文</label><div class="tab-content docutils container">
<p>“Method chaining”, referred to within SQLAlchemy documentation as
“generative”, is an object-oriented technique whereby the state of an
object is constructed by calling methods on the object. The object
features any number of methods, each of which return a new object (or
in some cases the same object) with additional state added to the
object.</p>
<p>The two SQLAlchemy objects that make the most use of
method chaining are the <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object and the <a class="reference internal" href="orm/queryguide/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object.
For example, a <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object can
be assigned two expressions to its WHERE clause as well
as an ORDER BY clause by calling upon the <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a>
and <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select.order_by" title="sqlalchemy.sql.expression.Select.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.order_by()</span></code></a> methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">select</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;e%&quot;</span><span class="p">))</span>
    <span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>Each method call above returns a copy of the original
<a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object with additional qualifiers
added.</p>
</div>
</div>
</dd>
<dt id="term-N-plus-one-problem">N plus one problem<a class="headerlink" href="#term-N-plus-one-problem" title="Link to this term">¶</a></dt><dt id="term-N-plus-one">N plus one<a class="headerlink" href="#term-N-plus-one" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--46-input--1" name="tab-set--46" type="radio"><label class="tab-label" for="tab-set--46-input--1">中文</label><div class="tab-content docutils container">
<p>N+1 问题是 <a class="reference internal" href="#term-lazy-load"><span class="xref std std-term">lazy load</span></a> 模式的一个常见副作用，其中应用程序希望遍历对象结果集中每个成员的相关属性或集合，而该属性或集合设置为通过延迟加载模式进行加载。最终结果是发出一个 SELECT 语句来加载父对象的初始结果集；然后，当应用程序遍历每个成员时，会为每个成员发出一个额外的 SELECT 语句，以加载该成员的相关属性或集合。最终结果是，对于 N 个父对象的结果集，将发出 N+1 个 SELECT 语句。</p>
<p>N+1 问题可以通过 <a class="reference internal" href="#term-eager-loading"><span class="xref std std-term">eager loading</span></a> 来缓解。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="tutorial/orm_related_objects.html#tutorial-orm-loader-strategies"><span class="std std-ref">加载器策略</span></a></p>
<p><a class="reference internal" href="orm/queryguide/relationships.html"><span class="doc">关系加载技术</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--46-input--2" name="tab-set--46" type="radio"><label class="tab-label" for="tab-set--46-input--2">英文</label><div class="tab-content docutils container">
<p>The N plus one problem is a common side effect of the
<a class="reference internal" href="#term-lazy-load"><span class="xref std std-term">lazy load</span></a> pattern, whereby an application wishes
to iterate through a related attribute or collection on
each member of a result set of objects, where that
attribute or collection is set to be loaded via the lazy
load pattern.   The net result is that a SELECT statement
is emitted to load the initial result set of parent objects;
then, as the application iterates through each member,
an additional SELECT statement is emitted for each member
in order to load the related attribute or collection for
that member.  The end result is that for a result set of
N parent objects, there will be N + 1 SELECT statements emitted.</p>
<p>The N plus one problem is alleviated using <a class="reference internal" href="#term-eager-loading"><span class="xref std std-term">eager loading</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="tutorial/orm_related_objects.html#tutorial-orm-loader-strategies"><span class="std std-ref">加载器策略</span></a></p>
<p><a class="reference internal" href="orm/queryguide/relationships.html"><span class="doc">关系加载技术</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-one-to-many">one to many<a class="headerlink" href="#term-one-to-many" title="Link to this term">¶</a></dt><dt id="term-52">一对多<a class="headerlink" href="#term-52" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--47-input--1" name="tab-set--47" type="radio"><label class="tab-label" for="tab-set--47-input--1">中文</label><div class="tab-content docutils container">
<p>一种 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> 样式，它将父映射器表的主键链接到相关表的外键。每个唯一的父对象可以引用零个或多个唯一的相关对象。</p>
<p>相关对象反过来将与其父对象有隐式或显式的 <a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a> 关系。</p>
<p>一个一对多模式的示例（请注意，这与 <a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a> 模式相同）：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">    </span><span class="n">dep_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">department</span></code> 到 <code class="docutils literal notranslate"><span class="pre">employee</span></code> 的关系是一对多，因为许多员工记录可以与一个部门关联。一个 SQLAlchemy 映射可能如下所示:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Department</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;department&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">employees</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Employee&quot;</span><span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">dep_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;department.id&quot;</span><span class="p">))</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a></p>
<p><a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a></p>
<p><a class="reference internal" href="#term-backref"><span class="xref std std-term">backref</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--47-input--2" name="tab-set--47" type="radio"><label class="tab-label" for="tab-set--47-input--2">英文</label><div class="tab-content docutils container">
<p>A style of <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> which links
the primary key of the parent mapper’s table to the foreign
key of a related table.   Each unique parent object can
then refer to zero or more unique related objects.</p>
<p>The related objects in turn will have an implicit or
explicit <a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a> relationship to their parent
object.</p>
<p>An example one to many schema (which, note, is identical
to the <a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a> schema):</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">department</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">    </span><span class="n">dep_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">department</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>The relationship from <code class="docutils literal notranslate"><span class="pre">department</span></code> to <code class="docutils literal notranslate"><span class="pre">employee</span></code> is
one to many, since many employee records can be associated with a
single department.  A SQLAlchemy mapping might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Department</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;department&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">employees</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Employee&quot;</span><span class="p">)</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Employee</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;employee&quot;</span>
    <span class="n">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
    <span class="n">dep_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;department.id&quot;</span><span class="p">))</span></pre><div class="code-non-annotations-key"></div></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-relationship"><span class="xref std std-term">relationship</span></a></p>
<p><a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a></p>
<p><a class="reference internal" href="#term-backref"><span class="xref std std-term">backref</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-ORM">ORM-注解<a class="headerlink" href="#term-ORM" title="Link to this term">¶</a></dt><dt id="term-ORM-annotated">ORM-annotated<a class="headerlink" href="#term-ORM-annotated" title="Link to this term">¶</a></dt><dt id="term-annotations">annotations<a class="headerlink" href="#term-annotations" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--48-input--1" name="tab-set--48" type="radio"><label class="tab-label" for="tab-set--48-input--1">中文</label><div class="tab-content docutils container">
<p>术语“ORM-annotated”指的是 SQLAlchemy 的一个内部方面，其中一个核心对象（例如 <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> 对象）可以携带额外的运行时信息，该信息标记它属于特定的 ORM 映射。这个术语不应与常用短语“类型注释”混淆，后者指的是用于静态类型的 Python 源代码“类型提示”，如 <span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> 中介绍的那样。</p>
<p>SQLAlchemy 的大多数文档代码示例都格式化为一个关于“Annotated Example”或“Non-annotated Example”的小注释。这是指示例是否为 <span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> 注释，与 SQLAlchemy 的“ORM-annotated”概念无关。</p>
<p>当文档中出现“ORM-annotated”一词时，它指的是核心 SQL 表达式对象，如 <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>、 <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> 和 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 对象，这些对象源自或指向源自一个或多个 ORM 映射的子元素，因此在传递给 ORM 方法（例如 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a>）时将具有 ORM 特定的解释和/或行为。例如，当我们从 ORM 映射构建 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 对象时，如 <a class="reference internal" href="tutorial/metadata.html#tutorial-declaring-mapped-classes"><span class="std std-ref">ORM Tutorial</span></a> 中说明的 <code class="docutils literal notranslate"><span class="pre">User</span></code> 类</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">User</span><span class="p">)</span></pre></div>
</div>
<p>上面的 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 的内部状态引用了 <code class="docutils literal notranslate"><span class="pre">User</span></code> 映射到的 <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>。<code class="docutils literal notranslate"><span class="pre">User</span></code> 类本身并未立即引用。这就是 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 构造与核心级别过程兼容的方式（请注意，<a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">._raw_columns</span></code> 成员是私有的，不应由最终用户代码访问）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span><span class="o">.</span><span class="n">_raw_columns</span>
<span class="go">[Table(&#39;user_account&#39;, MetaData(), Column(&#39;id&#39;, Integer(), ...)]</span></pre></div>
</div>
<p>然而，当我们将 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 传递给 ORM <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> 时，与对象间接关联的 ORM 实体用于在 ORM 上下文中解释此 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>。实际的“ORM 注释”可以在另一个私有变量 <code class="docutils literal notranslate"><span class="pre">._annotations</span></code> 中看到:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span><span class="o">.</span><span class="n">_raw_columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_annotations</span>
<span class="go">immutabledict({</span>
<span class="go">&#39;entity_namespace&#39;: &lt;Mapper at 0x7f4dd8098c10; User&gt;,</span>
<span class="go">&#39;parententity&#39;: &lt;Mapper at 0x7f4dd8098c10; User&gt;,</span>
<span class="go">&#39;parentmapper&#39;: &lt;Mapper at 0x7f4dd8098c10; User&gt;</span>
<span class="go">})</span></pre></div>
</div>
<p>因此我们将 <code class="docutils literal notranslate"><span class="pre">stmt</span></code> 称为 <strong>ORM-annotated select()</strong> 对象。这是一个 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 语句，包含额外的信息，当传递给诸如 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a> 之类的方法时，这些信息将使其在 ORM 特定的方式中进行解释。</p>
</div>
<input class="tab-input" id="tab-set--48-input--2" name="tab-set--48" type="radio"><label class="tab-label" for="tab-set--48-input--2">英文</label><div class="tab-content docutils container">
<p>The phrase “ORM-annotated” refers to an internal aspect of SQLAlchemy,
where a Core object such as a <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> object can carry along
additional runtime information that marks it as belonging to a particular
ORM mapping.   The term should not be confused with the common phrase
“type annotation”, which refers to Python source code “type hints” used
for static typing as introduced at <span class="target" id="index-2"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a>.</p>
<p>Most of SQLAlchemy’s documented code examples are formatted with a
small note regarding “Annotated Example” or “Non-annotated Example”.
This refers to whether or not the example is <span class="target" id="index-3"></span><a class="pep reference external" href="https://peps.python.org/pep-0484/"><strong>PEP 484</strong></a> annotated,
and is not related to the SQLAlchemy concept of “ORM-annotated”.</p>
<p>When the phrase “ORM-annotated” appears in documentation, it is
referring to Core SQL expression objects such as <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>,
<a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>, and <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> objects, which originate from,
or refer to sub-elements that originate from, one or more ORM mappings,
and therefore will have ORM-specific interpretations and/or behaviors
when passed to ORM methods such as <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a>.
For example, when we construct a <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object from an ORM
mapping, such as the <code class="docutils literal notranslate"><span class="pre">User</span></code> class illustrated in the
<a class="reference internal" href="tutorial/metadata.html#tutorial-declaring-mapped-classes"><span class="std std-ref">ORM Tutorial</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">User</span><span class="p">)</span></pre></div>
</div>
<p>The internal state of the above <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> refers to the
<a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> to which <code class="docutils literal notranslate"><span class="pre">User</span></code> is mapped.   The <code class="docutils literal notranslate"><span class="pre">User</span></code> class
itself is not immediately referenced.  This is how the <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
construct remains compatible with Core-level processes (note that
the <code class="docutils literal notranslate"><span class="pre">._raw_columns</span></code> member of <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> is private and
should not be accessed by end-user code):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span><span class="o">.</span><span class="n">_raw_columns</span>
<span class="go">[Table(&#39;user_account&#39;, MetaData(), Column(&#39;id&#39;, Integer(), ...)]</span></pre></div>
</div>
<p>However, when our <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> is passed along to an ORM
<a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>, the ORM entities that are indirectly associated
with the object are used to interpret this <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> in an
ORM context.  The actual “ORM annotations” can be seen in another
private variable <code class="docutils literal notranslate"><span class="pre">._annotations</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span><span class="o">.</span><span class="n">_raw_columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_annotations</span>
<span class="go">immutabledict({</span>
<span class="go">&#39;entity_namespace&#39;: &lt;Mapper at 0x7f4dd8098c10; User&gt;,</span>
<span class="go">&#39;parententity&#39;: &lt;Mapper at 0x7f4dd8098c10; User&gt;,</span>
<span class="go">&#39;parentmapper&#39;: &lt;Mapper at 0x7f4dd8098c10; User&gt;</span>
<span class="go">})</span></pre></div>
</div>
<p>Therefore we refer to <code class="docutils literal notranslate"><span class="pre">stmt</span></code> as an <strong>ORM-annotated select()</strong> object.
It’s a <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> statement that contains additional information
that will cause it to be interpreted in an ORM-specific way when passed
to methods like <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a>.</p>
</div>
</div>
</dd>
<dt id="term-pending">pending<a class="headerlink" href="#term-pending" title="Link to this term">¶</a></dt><dt id="term-68">待办的<a class="headerlink" href="#term-68" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--49-input--1" name="tab-set--49" type="radio"><label class="tab-label" for="tab-set--49-input--1">中文</label><div class="tab-content docutils container">
<p>这描述了对象在 <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a> 中可以具有的主要对象状态之一；一个挂起对象是一个没有任何数据库标识的新对象，但最近已与会话关联。当会话发出刷新并插入行时，对象会移动到 <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a> 状态。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--49-input--2" name="tab-set--49" type="radio"><label class="tab-label" for="tab-set--49-input--2">英文</label><div class="tab-content docutils container">
<p>This describes one of the major object states which
an object can have within a <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a>; a pending object
is a new object that doesn’t have any database identity,
but has been recently associated with a session.   When
the session emits a flush and the row is inserted, the
object moves to the <a class="reference internal" href="#term-persistent"><span class="xref std std-term">persistent</span></a> state.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-persistent">persistent<a class="headerlink" href="#term-persistent" title="Link to this term">¶</a></dt><dt id="term-70">持久的<a class="headerlink" href="#term-70" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--50-input--1" name="tab-set--50" type="radio"><label class="tab-label" for="tab-set--50-input--1">中文</label><div class="tab-content docutils container">
<p>这描述了对象在 <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a> 中可以具有的主要对象状态之一；一个持久对象是具有数据库标识（即主键）并且当前与会话关联的对象。任何先前处于 <a class="reference internal" href="#term-pending"><span class="xref std std-term">pending</span></a> 状态并且现在已插入的对象，以及任何由会话从数据库加载的对象，都是处于持久状态。当一个持久对象从会话中移除时，它被称为 <a class="reference internal" href="#term-detached"><span class="xref std std-term">detached</span></a>。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--50-input--2" name="tab-set--50" type="radio"><label class="tab-label" for="tab-set--50-input--2">英文</label><div class="tab-content docutils container">
<p>This describes one of the major object states which
an object can have within a <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a>; a persistent object
is an object that has a database identity (i.e. a primary key)
and is currently associated with a session.   Any object
that was previously <a class="reference internal" href="#term-pending"><span class="xref std std-term">pending</span></a> and has now been inserted
is in the persistent state, as is any object that’s
been loaded by the session from the database.   When a
persistent object is removed from a session, it is known
as <a class="reference internal" href="#term-detached"><span class="xref std std-term">detached</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-plugin">plugin<a class="headerlink" href="#term-plugin" title="Link to this term">¶</a></dt><dt id="term-plugin-enabled">plugin-enabled<a class="headerlink" href="#term-plugin-enabled" title="Link to this term">¶</a></dt><dt id="term-plugin-specific">plugin-specific<a class="headerlink" href="#term-plugin-specific" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--51-input--1" name="tab-set--51" type="radio"><label class="tab-label" for="tab-set--51-input--1">中文</label><div class="tab-content docutils container">
<p>“plugin-enabled” 或 “plugin-specific” 通常表示 SQLAlchemy Core 中的一个函数或方法在 ORM 上下文中使用时会表现得不同。</p>
<p>SQLAlchemy 允许核心构造（例如 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 对象）参与“插件”系统，该系统可以向对象注入默认情况下不存在的其他行为和功能。</p>
<p>具体来说，主要的“插件”是“orm”插件，它是 SQLAlchemy ORM 利用核心构造来组成和执行返回 ORM 结果的 SQL 查询的系统基础。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="changelog/migration_20.html#migration-20-unify-select"><span class="std std-ref">ORM Query Unified with Core Select</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--51-input--2" name="tab-set--51" type="radio"><label class="tab-label" for="tab-set--51-input--2">英文</label><div class="tab-content docutils container">
<p>“plugin-enabled” or “plugin-specific” generally indicates a function or method in
SQLAlchemy Core which will behave differently when used in an ORM
context.</p>
<p>SQLAlchemy allows Core constructs such as <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> objects
to participate in a “plugin” system, which can inject additional
behaviors and features into the object that are not present by default.</p>
<p>Specifically, the primary “plugin” is the “orm” plugin, which is
at the base of the system that the SQLAlchemy ORM makes use of
Core constructs in order to compose and execute SQL queries that
return ORM results.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="changelog/migration_20.html#migration-20-unify-select"><span class="std std-ref">ORM Query Unified with Core Select</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-polymorphic">polymorphic<a class="headerlink" href="#term-polymorphic" title="Link to this term">¶</a></dt><dt id="term-polymorphically">polymorphically<a class="headerlink" href="#term-polymorphically" title="Link to this term">¶</a></dt><dt id="term-34">多态的<a class="headerlink" href="#term-34" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--52-input--1" name="tab-set--52" type="radio"><label class="tab-label" for="tab-set--52-input--1">中文</label><div class="tab-content docutils container">
<p>指的是一次处理多种类型的函数。在 SQLAlchemy 中，该术语通常应用于 ORM 映射类的概念，其中查询操作将根据结果集中信息返回不同的子类，通常通过检查结果中称为 <a class="reference internal" href="#term-discriminator"><span class="xref std std-term">discriminator</span></a> 的特定列的值来实现。</p>
<p>在 SQLAlchemy 中，多态加载意味着使用三种不同方案中的一种或组合来映射类的层次结构：“joined”、“single”和“concrete”。部分 <a class="reference internal" href="orm/inheritance.html#inheritance-toplevel"><span class="std std-ref">映射类继承层次结构</span></a> 完整描述了继承映射。</p>
</div>
<input class="tab-input" id="tab-set--52-input--2" name="tab-set--52" type="radio"><label class="tab-label" for="tab-set--52-input--2">英文</label><div class="tab-content docutils container">
<p>Refers to a function that handles several types at once.  In SQLAlchemy,
the term is usually applied to the concept of an ORM mapped class
whereby a query operation will return different subclasses
based on information in the result set, typically by checking the
value of a particular column in the result known as the <a class="reference internal" href="#term-discriminator"><span class="xref std std-term">discriminator</span></a>.</p>
<p>Polymorphic loading in SQLAlchemy implies that a one or a
combination of three different schemes are used to map a hierarchy
of classes; “joined”, “single”, and “concrete”.   The section
<a class="reference internal" href="orm/inheritance.html#inheritance-toplevel"><span class="std std-ref">映射类继承层次结构</span></a> describes inheritance mapping fully.</p>
</div>
</div>
</dd>
<dt id="term-primary-key">primary key<a class="headerlink" href="#term-primary-key" title="Link to this term">¶</a></dt><dt id="term-60">主键<a class="headerlink" href="#term-60" title="Link to this term">¶</a></dt><dt id="term-primary-key-constraint">primary key constraint<a class="headerlink" href="#term-primary-key-constraint" title="Link to this term">¶</a></dt><dt id="term-61">主键约束<a class="headerlink" href="#term-61" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--53-input--1" name="tab-set--53" type="radio"><label class="tab-label" for="tab-set--53-input--1">中文</label><div class="tab-content docutils container">
<p>一种 <a class="reference internal" href="#term-constraint"><span class="xref std std-term">constraint</span></a>，唯一定义表中每行的特征。主键必须由任何其他行都不能复制的特征组成。主键可以由单个属性或多个属性组合而成。
(via Wikipedia)</p>
<p>表的主键通常（但并非总是）在 <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> <a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a> 中定义：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="n">emp_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">        </span><span class="n">emp_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">        </span><span class="n">dep_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">        </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">emp_id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-composite-primary-key"><span class="xref std std-term">composite primary key</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Primary_Key">Primary key (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--53-input--2" name="tab-set--53" type="radio"><label class="tab-label" for="tab-set--53-input--2">英文</label><div class="tab-content docutils container">
<p>A <a class="reference internal" href="#term-constraint"><span class="xref std std-term">constraint</span></a> that uniquely defines the characteristics
of each row in a table. The primary key has to consist of
characteristics that cannot be duplicated by any other row.
The primary key may consist of a single attribute or
multiple attributes in combination.
(via Wikipedia)</p>
<p>The primary key of a table is typically, though not always,
defined within the <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> <a class="reference internal" href="#term-DDL"><span class="xref std std-term">DDL</span></a>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">employee</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="n">emp_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">        </span><span class="n">emp_name</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="w">        </span><span class="n">dep_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">        </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">emp_id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="#term-composite-primary-key"><span class="xref std std-term">composite primary key</span></a></p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Primary_Key">Primary key (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-read-committed">read committed<a class="headerlink" href="#term-read-committed" title="Link to this term">¶</a></dt><dt id="term-48">读已提交<a class="headerlink" href="#term-48" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--54-input--1" name="tab-set--54" type="radio"><label class="tab-label" for="tab-set--54-input--1">中文</label><div class="tab-content docutils container">
<p>四种数据库 <a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a> 级别之一，read committed 确保事务不会暴露给其他并发事务中尚未提交的任何数据，从而防止所谓的“脏读”。然而，在 read committed 下可能会有不可重复读，这意味着如果另一个事务已提交更改，则第二次读取行中的数据可能会更改。</p>
</div>
<input class="tab-input" id="tab-set--54-input--2" name="tab-set--54" type="radio"><label class="tab-label" for="tab-set--54-input--2">英文</label><div class="tab-content docutils container">
<p>One of the four database <a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a> levels, read committed
features that the transaction will not be exposed to any data from
other concurrent transactions that has not been committed yet,
preventing so-called “dirty reads”.  However, under read committed
there can be non-repeatable reads, meaning data in a row may change
when read a second time if another transaction has committed changes.</p>
</div>
</div>
</dd>
<dt id="term-read-uncommitted">read uncommitted<a class="headerlink" href="#term-read-uncommitted" title="Link to this term">¶</a></dt><dt id="term-49">读取未提交<a class="headerlink" href="#term-49" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--55-input--1" name="tab-set--55" type="radio"><label class="tab-label" for="tab-set--55-input--1">中文</label><div class="tab-content docutils container">
<p>四种数据库 <a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a> 级别之一，read uncommitted 的特性是事务中的数据更改在事务提交之前不会永久生效。然而，在 read uncommitted 中，可能在另一个事务的范围内查看未在其他事务中提交的数据；这些被称为“脏读”。</p>
</div>
<input class="tab-input" id="tab-set--55-input--2" name="tab-set--55" type="radio"><label class="tab-label" for="tab-set--55-input--2">英文</label><div class="tab-content docutils container">
<p>One of the four database <a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a> levels, read uncommitted
features that changes made to database data within a transaction will
not become permanent until the transaction is committed.   However,
within read uncommitted, it may be possible for data that is not
committed in other transactions to be viewable within the scope of
another transaction; these are known as “dirty reads”.</p>
</div>
</div>
</dd>
<dt id="term-registry">registry<a class="headerlink" href="#term-registry" title="Link to this term">¶</a></dt><dt id="term-22">注册<a class="headerlink" href="#term-22" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--56-input--1" name="tab-set--56" type="radio"><label class="tab-label" for="tab-set--56-input--1">中文</label><div class="tab-content docutils container">
<p>一个对象，通常是全局可访问的，包含一些程序状态的长期信息，这些信息通常对程序的许多部分都很有用。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://martinfowler.com/eaaCatalog/registry.html">Registry (via Martin Fowler)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--56-input--2" name="tab-set--56" type="radio"><label class="tab-label" for="tab-set--56-input--2">英文</label><div class="tab-content docutils container">
<p>An object, typically globally accessible, that contains long-lived
information about some program state that is generally useful to many
parts of a program.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://martinfowler.com/eaaCatalog/registry.html">Registry (via Martin Fowler)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-relationship">relationship<a class="headerlink" href="#term-relationship" title="Link to this term">¶</a></dt><dt id="term-relationships">relationships<a class="headerlink" href="#term-relationships" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--57-input--1" name="tab-set--57" type="radio"><label class="tab-label" for="tab-set--57-input--1">中文</label><div class="tab-content docutils container">
<p>两个映射类之间的连接单元，对应于数据库中两个表之间的某种关系。</p>
<p>该关系使用 SQLAlchemy 函数 <a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a> 定义。一旦创建，SQLAlchemy 会检查涉及的参数和底层映射，以将关系分类为以下三种类型之一：<a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a>、<a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a> 或 <a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a>。通过这种分类，关系结构处理数据库中适当链接的持久化任务，以响应内存中的对象关联，以及根据数据库中的当前链接将对象引用和集合加载到内存中的任务。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/relationships.html#relationship-config-toplevel"><span class="std std-ref">关系配置</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--57-input--2" name="tab-set--57" type="radio"><label class="tab-label" for="tab-set--57-input--2">英文</label><div class="tab-content docutils container">
<p>A connecting unit between two mapped classes, corresponding
to some relationship between the two tables in the database.</p>
<p>The relationship is defined using the SQLAlchemy function
<a class="reference internal" href="orm/relationship_api.html#sqlalchemy.orm.relationship" title="sqlalchemy.orm.relationship"><code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code></a>.   Once created, SQLAlchemy
inspects the arguments and underlying mappings involved
in order to classify the relationship as one of three types:
<a class="reference internal" href="#term-one-to-many"><span class="xref std std-term">one to many</span></a>, <a class="reference internal" href="#term-many-to-one"><span class="xref std std-term">many to one</span></a>, or <a class="reference internal" href="#term-many-to-many"><span class="xref std std-term">many to many</span></a>.
With this classification, the relationship construct
handles the task of persisting the appropriate linkages
in the database in response to in-memory object associations,
as well as the job of loading object references and collections
into memory based on the current linkages in the
database.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/relationships.html#relationship-config-toplevel"><span class="std std-ref">关系配置</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-release">release<a class="headerlink" href="#term-release" title="Link to this term">¶</a></dt><dt id="term-releases">releases<a class="headerlink" href="#term-releases" title="Link to this term">¶</a></dt><dt id="term-released">released<a class="headerlink" href="#term-released" title="Link to this term">¶</a></dt><dt id="term-37">释放<a class="headerlink" href="#term-37" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--58-input--1" name="tab-set--58" type="radio"><label class="tab-label" for="tab-set--58-input--1">中文</label><div class="tab-content docutils container">
<p>在 SQLAlchemy 中，术语“释放”是指结束特定数据库连接的使用过程。SQLAlchemy 具有连接池的使用功能，可以配置数据库连接的生命周期。当使用池化连接时，“关闭”它的过程，即调用 <code class="docutils literal notranslate"><span class="pre">connection.close()</span></code> 语句，可能会将连接返回到现有池中，也可能会关闭该连接所引用的底层 TCP/IP 连接——哪种情况发生取决于配置以及池的当前状态。因此，我们使用术语 <em>released</em>，意为“在我们使用完连接后，做任何你做的事情”。</p>
<p>该术语有时会在短语“释放事务资源”中使用，以更明确地表示我们实际上“释放”的是连接上已累积的任何事务状态。在大多数情况下，从表中选择、发出更新等过程会在该连接上获取 <a class="reference internal" href="#term-isolated"><span class="xref std std-term">isolated</span></a> 状态以及潜在的行或表锁。这种状态都是特定事务的本地状态，当我们发出回滚时会被释放。连接池的一个重要特性是，当我们将连接返回到池中时，也会调用 DBAPI 的 <code class="docutils literal notranslate"><span class="pre">connection.rollback()</span></code> 方法，因此当连接被设置为再次使用时，它处于“干净”的状态，不再引用之前的一系列操作。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/pooling.html#pooling-toplevel"><span class="std std-ref">连接池</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--58-input--2" name="tab-set--58" type="radio"><label class="tab-label" for="tab-set--58-input--2">英文</label><div class="tab-content docutils container">
<p>In the context of SQLAlchemy, the term “released”
refers to the process of ending the usage of a particular
database connection.    SQLAlchemy features the usage
of connection pools, which allows configurability as to
the lifespan of database connections.   When using a pooled
connection, the process of “closing” it, i.e. invoking
a statement like <code class="docutils literal notranslate"><span class="pre">connection.close()</span></code>, may have the effect
of the connection being returned to an existing pool,
or it may have the effect of actually shutting down the
underlying TCP/IP connection referred to by that connection -
which one takes place depends on configuration as well
as the current state of the pool.  So we used the term
<em>released</em> instead, to mean “do whatever it is you do
with connections when we’re done using them”.</p>
<p>The term will sometimes be used in the phrase, “release
transactional resources”, to indicate more explicitly that
what we are actually “releasing” is any transactional
state which as accumulated upon the connection.  In most
situations, the process of selecting from tables, emitting
updates, etc. acquires <a class="reference internal" href="#term-isolated"><span class="xref std std-term">isolated</span></a> state upon
that connection as well as potential row or table locks.
This state is all local to a particular transaction
on the connection, and is released when we emit a rollback.
An important feature of the connection pool is that when
we return a connection to the pool, the <code class="docutils literal notranslate"><span class="pre">connection.rollback()</span></code>
method of the DBAPI is called as well, so that as the
connection is set up to be used again, it’s in a “clean”
state with no references held to the previous series
of operations.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/pooling.html#pooling-toplevel"><span class="std std-ref">连接池</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-repeatable-read">repeatable read<a class="headerlink" href="#term-repeatable-read" title="Link to this term">¶</a></dt><dt id="term-47">可重复读<a class="headerlink" href="#term-47" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--59-input--1" name="tab-set--59" type="radio"><label class="tab-label" for="tab-set--59-input--1">中文</label><div class="tab-content docutils container">
<p>四种数据库 <a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a> 级别之一，repeatable read 具有 <a class="reference internal" href="#term-read-committed"><span class="xref std std-term">read committed</span></a> 的所有隔离特性，此外，还具有在事务中读取的任何特定行在该事务期间保证不受任何后续外部更改（即来自其他并发 UPDATE 语句）的影响。</p>
</div>
<input class="tab-input" id="tab-set--59-input--2" name="tab-set--59" type="radio"><label class="tab-label" for="tab-set--59-input--2">英文</label><div class="tab-content docutils container">
<p>One of the four database <a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a> levels, repeatable read
features all of the isolation of <a class="reference internal" href="#term-read-committed"><span class="xref std std-term">read committed</span></a>, and
additionally features that any particular row that is read within a
transaction is guaranteed from that point to not have any subsequent
external changes in value (i.e. from other concurrent UPDATE
statements) for the duration of that transaction.</p>
</div>
</div>
</dd>
<dt id="term-RETURNING">RETURNING<a class="headerlink" href="#term-RETURNING" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--60-input--1" name="tab-set--60" type="radio"><label class="tab-label" for="tab-set--60-input--1">中文</label><div class="tab-content docutils container">
<p>这是某些后端以各种形式提供的非SQL标准子句，提供在执行 INSERT、UPDATE 或 DELETE 语句时返回结果集的服务。可以返回匹配行的任何列集，就像它们是由 SELECT 语句生成的一样。</p>
<p>RETURNING 子句为常见的更新/选择场景提供了显著的性能提升，包括在创建时检索内联或默认生成的主键值和默认值，以及以原子方式获取服务器生成的默认值。</p>
<p>PostgreSQL 中的 RETURNING 示例如下所示：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">user_account</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;new name&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNING</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="k">timestamp</span></pre></div>
</div>
<p>如上所述，INSERT 语句在执行时将提供一个结果集，其中包括列 <code class="docutils literal notranslate"><span class="pre">user_account.id</span></code> 和 <code class="docutils literal notranslate"><span class="pre">user_account.timestamp</span></code> 的值，上述值应作为默认值生成，因为它们未包含在其他地方（但请注意，任何列或 SQL 表达式序列都可以放入 RETURNING 中，而不仅仅是默认值列）。</p>
<p>当前支持 RETURNING 或类似构造的后端有 PostgreSQL、SQL Server、Oracle Database 和 Firebird。PostgreSQL 和 Firebird 的实现通常是全功能的，而 SQL Server 和 Oracle Database 的实现有一些注意事项。在 SQL Server 上，该子句在 INSERT 和 UPDATE 语句中称为”OUTPUT INSERTED”，在 DELETE 语句中称为”OUTPUT DELETED”；关键注意事项是触发器与此关键字不支持。在 Oracle Database 中，它被称为”RETURNING…INTO”，并且要求将值放入 OUT 参数中，这不仅使语法笨拙，而且一次只能用于一行。</p>
<p>SQLAlchemy 的 <a class="reference internal" href="core/dml.html#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> 系统在这些后端的 RETURNING 系统之上提供了一个抽象层，以提供一致的列返回接口。ORM 还包括许多在可用时使用 RETURNING 的优化。</p>
</div>
<input class="tab-input" id="tab-set--60-input--2" name="tab-set--60" type="radio"><label class="tab-label" for="tab-set--60-input--2">英文</label><div class="tab-content docutils container">
<p>This is a non-SQL standard clause provided in various forms by
certain backends, which provides the service of returning a result
set upon execution of an INSERT, UPDATE or DELETE statement.  Any set
of columns from the matched rows can be returned, as though they were
produced from a SELECT statement.</p>
<p>The RETURNING clause provides both a dramatic performance boost to
common update/select scenarios, including retrieval of inline- or
default- generated primary key values and defaults at the moment they
were created, as well as a way to get at server-generated
default values in an atomic way.</p>
<p>An example of RETURNING, idiomatic to PostgreSQL, looks like:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">user_account</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;new name&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNING</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="k">timestamp</span></pre></div>
</div>
<p>Above, the INSERT statement will provide upon execution a result set
which includes the values of the columns <code class="docutils literal notranslate"><span class="pre">user_account.id</span></code> and
<code class="docutils literal notranslate"><span class="pre">user_account.timestamp</span></code>, which above should have been generated as default
values as they are not included otherwise (but note any series of columns
or SQL expressions can be placed into RETURNING, not just default-value columns).</p>
<p>The backends that currently support RETURNING or a similar construct
are PostgreSQL, SQL Server, Oracle Database, and Firebird.  The
PostgreSQL and Firebird implementations are generally full featured,
whereas the implementations of SQL Server and Oracle Database have
caveats. On SQL Server, the clause is known as “OUTPUT INSERTED” for
INSERT and UPDATE statements and “OUTPUT DELETED” for DELETE
statements; the key caveat is that triggers are not supported in
conjunction with this keyword.  In Oracle Database, it is known as
“RETURNING…INTO”, and requires that the value be placed into an OUT
parameter, meaning not only is the syntax awkward, but it can also only
be used for one row at a time.</p>
<p>SQLAlchemy’s <a class="reference internal" href="core/dml.html#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">UpdateBase.returning()</span></code></a> system provides a layer of abstraction
on top of the RETURNING systems of these backends to provide a consistent
interface for returning columns.  The ORM also includes many optimizations
that make use of RETURNING when available.</p>
</div>
</div>
</dd>
<dt id="term-serializable">serializable<a class="headerlink" href="#term-serializable" title="Link to this term">¶</a></dt><dt id="term-50">可序列化<a class="headerlink" href="#term-50" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--61-input--1" name="tab-set--61" type="radio"><label class="tab-label" for="tab-set--61-input--1">中文</label><div class="tab-content docutils container">
<p>四种数据库 <a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a> 级别之一，serializable 具有 <a class="reference internal" href="#term-repeatable-read"><span class="xref std std-term">repeatable read</span></a> 的所有隔离特性，并且在基于锁的方法中保证不会发生所谓的“幻读”；这意味着在其他事务范围内 INSERT 或 DELETE 的行在此事务中将不可检测。在此事务中读取的行保证继续存在，而不存在的行保证不会因另一个事务的插入而出现。</p>
<p>Serializable 隔离通常依赖于行或行范围的锁定来实现此效果，这可能会增加死锁的可能性并降低性能。还有一些非锁定的方案，但这些方案必然依赖于在检测到写冲突时拒绝事务。</p>
</div>
<input class="tab-input" id="tab-set--61-input--2" name="tab-set--61" type="radio"><label class="tab-label" for="tab-set--61-input--2">英文</label><div class="tab-content docutils container">
<p>One of the four database <a class="reference internal" href="#term-isolation"><span class="xref std std-term">isolation</span></a> levels, serializable
features all of the isolation of <a class="reference internal" href="#term-repeatable-read"><span class="xref std std-term">repeatable read</span></a>, and
additionally within a lock-based approach guarantees that so-called
“phantom reads” cannot occur; this means that rows which are INSERTed
or DELETEd within the scope of other transactions will not be
detectable within this transaction.   A row that is read within this
transaction is guaranteed to continue existing, and a row that does not
exist is guaranteed that it cannot appear of inserted from another
transaction.</p>
<p>Serializable isolation typically relies upon locking of rows or ranges
of rows in order to achieve this effect and can increase the chance of
deadlocks and degrade performance.   There are also non-lock based
schemes however these necessarily rely upon rejecting transactions if
write collisions are detected.</p>
</div>
</div>
</dd>
<dt id="term-Session">Session<a class="headerlink" href="#term-Session" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--62-input--1" name="tab-set--62" type="radio"><label class="tab-label" for="tab-set--62-input--1">中文</label><div class="tab-content docutils container">
<p>ORM 数据库操作的容器或范围。会话从数据库加载实例，跟踪映射实例的更改，并在刷新时在一个工作单元中持久化更改。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session.html"><span class="doc">使用会话</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--62-input--2" name="tab-set--62" type="radio"><label class="tab-label" for="tab-set--62-input--2">英文</label><div class="tab-content docutils container">
<p>The container or scope for ORM database operations. Sessions
load instances from the database, track changes to mapped
instances and persist changes in a single unit of work when
flushed.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session.html"><span class="doc">使用会话</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-subquery">subquery<a class="headerlink" href="#term-subquery" title="Link to this term">¶</a></dt><dt id="term-41">子查询<a class="headerlink" href="#term-41" title="Link to this term">¶</a></dt><dt id="term-scalar-subquery">scalar subquery<a class="headerlink" href="#term-scalar-subquery" title="Link to this term">¶</a></dt><dt id="term-42">标量子查询<a class="headerlink" href="#term-42" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--63-input--1" name="tab-set--63" type="radio"><label class="tab-label" for="tab-set--63-input--1">中文</label><div class="tab-content docutils container">
<p>指嵌入在封闭的 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 语句中的 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 语句。</p>
<p>子查询有两种一般形式，一种称为“标量选择”，它必须返回一行和一列，另一种形式作为“派生表”并用作另一个选择的 FROM 子句的行来源。标量选择可以放在封闭选择的 <a class="reference internal" href="#term-WHERE-clause"><span class="xref std std-term">WHERE clause</span></a>、<a class="reference internal" href="#term-columns-clause"><span class="xref std std-term">columns clause</span></a>、ORDER BY 子句或 HAVING 子句中，而派生表形式可以放在封闭 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 的 FROM 子句中。</p>
<p>示例：</p>
<ol class="arabic">
<li><p>放在封闭 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 的 <a class="reference internal" href="#term-columns-clause"><span class="xref std std-term">columns clause</span></a> 中的标量子查询。在此示例中，子查询是 <a class="reference internal" href="#term-correlated-subquery"><span class="xref std std-term">correlated subquery</span></a>，因为它选择的部分行是通过封闭语句给出的。</p>
<blockquote>
<div><div class="highlight-sql notranslate"><div class="highlight"><pre><span></span></pre></div>
</div>
<p>SELECT id, (SELECT name FROM address WHERE address.user_id=user.id)
FROM user</p>
</div></blockquote>
</li>
<li><p>放在封闭 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 的 <a class="reference internal" href="#term-WHERE-clause"><span class="xref std std-term">WHERE clause</span></a> 中的标量子查询。在此示例中，该子查询未关联，因为它选择了一个固定结果。</p>
<blockquote>
<div><div class="highlight-sql notranslate"><div class="highlight"><pre><span></span></pre></div>
</div>
<p>SELECT id, name FROM user
WHERE status=(SELECT status_id FROM status_code WHERE code=’C’)</p>
</div></blockquote>
</li>
<li><p>放在封闭 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 的 <a class="reference internal" href="#term-FROM-clause"><span class="xref std std-term">FROM clause</span></a> 中的派生表子查询。此类子查询几乎总是给出别名。</p>
<blockquote>
<div><div class="highlight-sql notranslate"><div class="highlight"><pre><span></span></pre></div>
</div>
<p>SELECT user.id, user.name, ad_subq.email_address
FROM</p>
<blockquote>
<div><p>user JOIN
(select user_id, email_address FROM address WHERE address_type=’Q’) AS ad_subq
ON user.id = ad_subq.user_id</p>
</div></blockquote>
</div></blockquote>
</li>
</ol>
</div>
<input class="tab-input" id="tab-set--63-input--2" name="tab-set--63" type="radio"><label class="tab-label" for="tab-set--63-input--2">英文</label><div class="tab-content docutils container">
<p>Refers to a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement that is embedded within an enclosing
<code class="docutils literal notranslate"><span class="pre">SELECT</span></code>.</p>
<p>A subquery comes in two general flavors, one known as a “scalar select”
which specifically must return exactly one row and one column, and the
other form which acts as a “derived table” and serves as a source of
rows for the FROM clause of another select.  A scalar select is eligible
to be placed in the <a class="reference internal" href="#term-WHERE-clause"><span class="xref std std-term">WHERE clause</span></a>, <a class="reference internal" href="#term-columns-clause"><span class="xref std std-term">columns clause</span></a>,
ORDER BY clause or HAVING clause of the enclosing select, whereas the
derived table form is eligible to be placed in the FROM clause of the
enclosing <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>.</p>
<p>Examples:</p>
<ol class="arabic">
<li><dl>
<dt>a scalar subquery placed in the <a class="reference internal" href="#term-columns-clause"><span class="xref std std-term">columns clause</span></a> of an enclosing</dt><dd><p><code class="docutils literal notranslate"><span class="pre">SELECT</span></code>.  The subquery in this example is a <a class="reference internal" href="#term-correlated-subquery"><span class="xref std std-term">correlated subquery</span></a> because part
of the rows which it selects from are given via the enclosing statement.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span></pre></div>
</div>
<p>SELECT id, (SELECT name FROM address WHERE address.user_id=user.id)
FROM user</p>
</dd>
</dl>
</li>
<li><dl>
<dt>a scalar subquery placed in the <a class="reference internal" href="#term-WHERE-clause"><span class="xref std std-term">WHERE clause</span></a> of an enclosing</dt><dd><p><code class="docutils literal notranslate"><span class="pre">SELECT</span></code>.  This subquery in this example is not correlated as it selects a fixed result.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span></pre></div>
</div>
<p>SELECT id, name FROM user
WHERE status=(SELECT status_id FROM status_code WHERE code=’C’)</p>
</dd>
</dl>
</li>
<li><dl>
<dt>a derived table subquery placed in the <a class="reference internal" href="#term-FROM-clause"><span class="xref std std-term">FROM clause</span></a> of an enclosing</dt><dd><p><code class="docutils literal notranslate"><span class="pre">SELECT</span></code>.   Such a subquery is almost always given an alias name.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span></pre></div>
</div>
<p>SELECT user.id, user.name, ad_subq.email_address
FROM</p>
<blockquote>
<div><p>user JOIN
(select user_id, email_address FROM address WHERE address_type=’Q’) AS ad_subq
ON user.id = ad_subq.user_id</p>
</div></blockquote>
</dd>
</dl>
</li>
</ol>
</div>
</div>
</dd>
<dt id="term-transient">transient<a class="headerlink" href="#term-transient" title="Link to this term">¶</a></dt><dt id="term-67">瞬态<a class="headerlink" href="#term-67" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--64-input--1" name="tab-set--64" type="radio"><label class="tab-label" for="tab-set--64-input--1">中文</label><div class="tab-content docutils container">
<p>这描述了对象在 <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a> 中可以具有的主要对象状态之一；一个瞬态对象是一个没有任何数据库标识的新对象，并且尚未与会话关联。当对象被添加到会话中时，它会移动到 <a class="reference internal" href="#term-pending"><span class="xref std std-term">pending</span></a> 状态。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--64-input--2" name="tab-set--64" type="radio"><label class="tab-label" for="tab-set--64-input--2">英文</label><div class="tab-content docutils container">
<p>This describes one of the major object states which
an object can have within a <a class="reference internal" href="#term-Session"><span class="xref std std-term">Session</span></a>; a transient object
is a new object that doesn’t have any database identity
and has not been associated with a session yet.  When the
object is added to the session, it moves to the
<a class="reference internal" href="#term-pending"><span class="xref std std-term">pending</span></a> state.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/session_state_management.html#session-object-states"><span class="std std-ref">对象状态简介</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-unique-constraint">unique constraint<a class="headerlink" href="#term-unique-constraint" title="Link to this term">¶</a></dt><dt id="term-65">唯一约束<a class="headerlink" href="#term-65" title="Link to this term">¶</a></dt><dt id="term-unique-key-index">unique key index<a class="headerlink" href="#term-unique-key-index" title="Link to this term">¶</a></dt><dt id="term-66">唯一键索引<a class="headerlink" href="#term-66" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--65-input--1" name="tab-set--65" type="radio"><label class="tab-label" for="tab-set--65-input--1">中文</label><div class="tab-content docutils container">
<p>唯一键索引可以唯一标识数据库表中的每一行数据值。唯一键索引由单个列或单个数据库表中的一组列组成。如果不使用 NULL 值，则数据库表中的两行或数据记录不能在这些唯一键索引列中具有相同的数据值（或数据值组合）。根据其设计，数据库表可以有多个唯一键索引，但最多只能有一个主键索引。</p>
<p>(via Wikipedia)</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Unique_key#Defining_unique_keys">Unique key (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--65-input--2" name="tab-set--65" type="radio"><label class="tab-label" for="tab-set--65-input--2">英文</label><div class="tab-content docutils container">
<p>A unique key index can uniquely identify each row of data
values in a database table. A unique key index comprises a
single column or a set of columns in a single database table.
No two distinct rows or data records in a database table can
have the same data value (or combination of data values) in
those unique key index columns if NULL values are not used.
Depending on its design, a database table may have many unique
key indexes but at most one primary key index.</p>
<p>(via Wikipedia)</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Unique_key#Defining_unique_keys">Unique key (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-unit-of-work">unit of work<a class="headerlink" href="#term-unit-of-work" title="Link to this term">¶</a></dt><dt id="term-39">工作单元<a class="headerlink" href="#term-39" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--66-input--1" name="tab-set--66" type="radio"><label class="tab-label" for="tab-set--66-input--1">中文</label><div class="tab-content docutils container">
<p>一种软件架构，其中持久化系统（如对象关系映射器）维护对一系列对象所做更改的列表，并定期将所有这些待处理的更改刷新到数据库。</p>
<p>SQLAlchemy 的 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> 实现了工作单元模式，其中使用 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> 方法添加到 <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> 的对象将参与工作单元风格的持久化。</p>
<p>要了解 SQLAlchemy 中工作单元持久化的样子，请从 <a class="reference internal" href="tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 统一教程</span></a> 中的 <a class="reference internal" href="tutorial/orm_data_manipulation.html#tutorial-orm-data-manipulation"><span class="std std-ref">使用 ORM 进行数据操作</span></a> 部分开始。然后，详细信息参见一般参考文档中的 <a class="reference internal" href="orm/session_basics.html#session-basics"><span class="std std-ref">使用会话的基础知识</span></a>。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://martinfowler.com/eaaCatalog/unitOfWork.html">Unit of Work (via Martin Fowler)</a></p>
<p><a class="reference internal" href="tutorial/orm_data_manipulation.html#tutorial-orm-data-manipulation"><span class="std std-ref">使用 ORM 进行数据操作</span></a></p>
<p><a class="reference internal" href="orm/session_basics.html#session-basics"><span class="std std-ref">使用会话的基础知识</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--66-input--2" name="tab-set--66" type="radio"><label class="tab-label" for="tab-set--66-input--2">英文</label><div class="tab-content docutils container">
<p>A software architecture where a persistence system such as an object
relational mapper maintains a list of changes made to a series of
objects, and periodically flushes all those pending changes out to the
database.</p>
<p>SQLAlchemy’s <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> implements the unit of work pattern,
where objects that are added to the <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> using methods
like <a class="reference internal" href="orm/session_api.html#sqlalchemy.orm.Session.add" title="sqlalchemy.orm.Session.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.add()</span></code></a> will then participate in unit-of-work
style persistence.</p>
<p>For a walk-through of what unit of work persistence looks like in
SQLAlchemy, start with the section <a class="reference internal" href="tutorial/orm_data_manipulation.html#tutorial-orm-data-manipulation"><span class="std std-ref">使用 ORM 进行数据操作</span></a>
in the <a class="reference internal" href="tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 统一教程</span></a>.    Then for more detail, see
<a class="reference internal" href="orm/session_basics.html#session-basics"><span class="std std-ref">使用会话的基础知识</span></a> in the general reference documentation.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://martinfowler.com/eaaCatalog/unitOfWork.html">Unit of Work (via Martin Fowler)</a></p>
<p><a class="reference internal" href="tutorial/orm_data_manipulation.html#tutorial-orm-data-manipulation"><span class="std std-ref">使用 ORM 进行数据操作</span></a></p>
<p><a class="reference internal" href="orm/session_basics.html#session-basics"><span class="std std-ref">使用会话的基础知识</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-version-id-column">version id column<a class="headerlink" href="#term-version-id-column" title="Link to this term">¶</a></dt><dt id="term-ID">版本ID列<a class="headerlink" href="#term-ID" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--67-input--1" name="tab-set--67" type="radio"><label class="tab-label" for="tab-set--67-input--1">中文</label><div class="tab-content docutils container">
<p>在 SQLAlchemy 中，这指的是使用特定的表列来跟踪特定行的“版本”，随着行的值发生变化。虽然有不同类型的关系模式以不同的方式使用“版本 ID 列”，但 SQLAlchemy 的 ORM 包括一个特定功能，允许将此类列配置为在使用新信息更新行时测试陈旧数据的一种手段。如果我们尝试将新数据放入行时该列的最后已知“版本”与该行的版本不匹配，我们就知道我们正在处理陈旧信息。</p>
<p>在数据库中存储“版本化”行还有其他方法，通常称为“时间”数据。除了 SQLAlchemy 的版本控制功能外，文档中还提供了一些示例，见下文链接。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/versioning.html#mapper-version-counter"><span class="std std-ref">配置版本计数器</span></a> - SQLAlchemy 的内置版本 ID 功能。</p>
<p><a class="reference internal" href="orm/examples.html#examples-versioning"><span class="std std-ref">对象版本控制</span></a> - 其他时间版本行的映射示例。</p>
</div>
</div>
<input class="tab-input" id="tab-set--67-input--2" name="tab-set--67" type="radio"><label class="tab-label" for="tab-set--67-input--2">英文</label><div class="tab-content docutils container">
<p>In SQLAlchemy, this refers to the use of a particular table column that
tracks the “version” of a particular row, as the row changes values.   While
there are different kinds of relational patterns that make use of a
“version id column” in different ways, SQLAlchemy’s ORM includes a particular
feature that allows for such a column to be configured as a means of
testing for stale data when a row is being UPDATEd with new information.
If the last known “version” of this column does not match that of the
row when we try to put new data into the row, we know that we are
acting on stale information.</p>
<p>There are also other ways of storing “versioned” rows in a database,
often referred to as “temporal” data.  In addition to SQLAlchemy’s
versioning feature, a few more examples are also present in the
documentation, see the links below.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/versioning.html#mapper-version-counter"><span class="std std-ref">配置版本计数器</span></a> - SQLAlchemy’s built-in version id feature.</p>
<p><a class="reference internal" href="orm/examples.html#examples-versioning"><span class="std std-ref">对象版本控制</span></a> - other examples of mappings that version rows temporally.</p>
</div>
</div>
</div>
</dd>
<dt id="term-WHERE-clause">WHERE clause<a class="headerlink" href="#term-WHERE-clause" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--68-input--1" name="tab-set--68" type="radio"><label class="tab-label" for="tab-set--68-input--1">中文</label><div class="tab-content docutils container">
<p><code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 语句中指示按哪些条件过滤行的部分。它是跟在 <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> 关键字后面的一个 SQL 表达式。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">email</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">user_account</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;fred&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;E&#39;</span></pre></div>
</div>
<p>上面，短语 <code class="docutils literal notranslate"><span class="pre">WHERE</span> <span class="pre">user_account.name</span> <span class="pre">=</span> <span class="pre">'fred'</span> <span class="pre">AND</span> <span class="pre">user_account.status</span> <span class="pre">=</span> <span class="pre">'E'</span></code> 构成了 <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> 的 WHERE 子句。</p>
</div>
<input class="tab-input" id="tab-set--68-input--2" name="tab-set--68" type="radio"><label class="tab-label" for="tab-set--68-input--2">英文</label><div class="tab-content docutils container">
<p>The portion of the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement which indicates criteria
by which rows should be filtered.   It is a single SQL expression
which follows the keyword <code class="docutils literal notranslate"><span class="pre">WHERE</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">email</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">user_account</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;fred&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">user_account</span><span class="p">.</span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;E&#39;</span></pre></div>
</div>
<p>Above, the phrase <code class="docutils literal notranslate"><span class="pre">WHERE</span> <span class="pre">user_account.name</span> <span class="pre">=</span> <span class="pre">'fred'</span> <span class="pre">AND</span> <span class="pre">user_account.status</span> <span class="pre">=</span> <span class="pre">'E'</span></code>
comprises the WHERE clause of the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>.</p>
</div>
</div>
</dd>
<dt id="term-11">关系<a class="headerlink" href="#term-11" title="Link to this term">¶</a></dt><dt id="term-relational">relational<a class="headerlink" href="#term-relational" title="Link to this term">¶</a></dt><dt id="term-12">关系代数<a class="headerlink" href="#term-12" title="Link to this term">¶</a></dt><dt id="term-relational-algebra">relational algebra<a class="headerlink" href="#term-relational-algebra" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--69-input--1" name="tab-set--69" type="radio"><label class="tab-label" for="tab-set--69-input--1">中文</label><div class="tab-content docutils container">
<p>由 Edgar F. Codd 开发的一种代数系统，用于建模和查询存储在关系数据库中的数据。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://zh.wikipedia.org/wiki/关系代数_(数据库)">Relational Algebra (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--69-input--2" name="tab-set--69" type="radio"><label class="tab-label" for="tab-set--69-input--2">英文</label><div class="tab-content docutils container">
<p>An algebraic system developed by Edgar F. Codd that is used for
modelling and querying the data stored in relational databases.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Relational_algebra">Relational Algebra (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-7">反射<a class="headerlink" href="#term-7" title="Link to this term">¶</a></dt><dt id="term-reflection">reflection<a class="headerlink" href="#term-reflection" title="Link to this term">¶</a></dt><dt id="term-reflected">reflected<a class="headerlink" href="#term-reflected" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--70-input--1" name="tab-set--70" type="radio"><label class="tab-label" for="tab-set--70-input--1">中文</label><div class="tab-content docutils container">
<p>在 SQLAlchemy 中，这个术语指的是查询数据库架构目录的功能，以加载有关现有表、列、约束和其他结构的信息。SQLAlchemy 包含的功能既可以提供这些信息的原始数据，也可以从数据库架构目录中自动构建可用的 Core/ORM <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> 对象。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/reflection.html#metadata-reflection-toplevel"><span class="std std-ref">反映数据库对象</span></a> - 关于数据库反射的完整背景。</p>
<p><a class="reference internal" href="orm/declarative_tables.html#orm-declarative-reflected"><span class="std std-ref">使用反射表进行声明式映射</span></a> - 关于将 ORM 映射与反射表集成的背景。</p>
</div>
</div>
<input class="tab-input" id="tab-set--70-input--2" name="tab-set--70" type="radio"><label class="tab-label" for="tab-set--70-input--2">英文</label><div class="tab-content docutils container">
<p>In SQLAlchemy, this term refers to the feature of querying a database’s
schema catalogs in order to load information about existing tables,
columns, constraints, and other constructs.   SQLAlchemy includes
features that can both provide raw data for this information, as well
as that it can construct Core/ORM usable <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> objects
from database schema catalogs automatically.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/reflection.html#metadata-reflection-toplevel"><span class="std std-ref">反映数据库对象</span></a> - complete background on database reflection.</p>
<p><a class="reference internal" href="orm/declarative_tables.html#orm-declarative-reflected"><span class="std std-ref">使用反射表进行声明式映射</span></a> - background on integrating ORM mappings with reflected tables.</p>
</div>
</div>
</div>
</dd>
<dt id="term-16">可选择的<a class="headerlink" href="#term-16" title="Link to this term">¶</a></dt><dt id="term-selectable">selectable<a class="headerlink" href="#term-selectable" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--71-input--1" name="tab-set--71" type="radio"><label class="tab-label" for="tab-set--71-input--1">中文</label><div class="tab-content docutils container">
<p>一个用在 SQLAlchemy 中的术语，用于描述表示一组行的 SQL 结构。它与 <a class="reference internal" href="#term-relational-algebra"><span class="xref std std-term">relational algebra</span></a> 中的“关系”概念非常相似。在 SQLAlchemy 中，子类化 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a> 类的对象在使用 SQLAlchemy Core 时被认为是可用作“selectables”。最常见的两个结构是 <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> 和 <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> 语句。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://zh.wikipedia.org/wiki/关系代数_(数据库)">Relational Algebra (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--71-input--2" name="tab-set--71" type="radio"><label class="tab-label" for="tab-set--71-input--2">英文</label><div class="tab-content docutils container">
<p>A term used in SQLAlchemy to describe a SQL construct that represents
a collection of rows.   It’s largely similar to the concept of a
“relation” in <a class="reference internal" href="#term-relational-algebra"><span class="xref std std-term">relational algebra</span></a>.  In SQLAlchemy, objects
that subclass the <a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a> class are considered to be
usable as “selectables” when using SQLAlchemy Core.  The two most
common constructs are that of the <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and that of the
<a class="reference internal" href="core/selectable.html#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> statement.</p>
</div>
</div>
</dd>
<dt id="term-4">哨兵<a class="headerlink" href="#term-4" title="Link to this term">¶</a></dt><dt id="term-5">插入哨兵<a class="headerlink" href="#term-5" title="Link to this term">¶</a></dt><dt id="term-sentinel">sentinel<a class="headerlink" href="#term-sentinel" title="Link to this term">¶</a></dt><dt id="term-insert-sentinel">insert sentinel<a class="headerlink" href="#term-insert-sentinel" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--72-input--1" name="tab-set--72" type="radio"><label class="tab-label" for="tab-set--72-input--1">中文</label><div class="tab-content docutils container">
<p>这是一个 SQLAlchemy 特定术语，指的是一个 <a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>，可以用于批量 <a class="reference internal" href="#term-insertmanyvalues"><span class="xref std std-term">insertmanyvalues</span></a> 操作，以通过 RETURNING 或类似方式跟踪插入的数据记录。这样的列配置在以下情况下是必要的：当 <a class="reference internal" href="#term-insertmanyvalues"><span class="xref std std-term">insertmanyvalues</span></a> 功能为许多行执行优化的 INSERT..RETURNING 语句时，仍然能够保证返回的行的顺序与输入数据匹配。</p>
<p>对于典型用例，SQLAlchemy SQL 编译器可以自动使用代理整数主键列作为“插入哨兵”，不需要用户配置。对于其他种类的服务器生成的主键值的较少见情况，可以在 <a class="reference internal" href="#term-table-metadata"><span class="xref std std-term">table metadata</span></a> 中可选地配置明确的“插入哨兵”列，以优化一次插入多行的 INSERT 语句。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/connections.html#engine-insertmanyvalues-returning-order"><span class="std std-ref">将 RETURNING 行关联到参数集</span></a> - 在 <a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a> 部分中</p>
</div>
</div>
<input class="tab-input" id="tab-set--72-input--2" name="tab-set--72" type="radio"><label class="tab-label" for="tab-set--72-input--2">英文</label><div class="tab-content docutils container">
<p>This is a SQLAlchemy-specific term that refers to a
<a class="reference internal" href="core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> which can be used for a bulk
<a class="reference internal" href="#term-insertmanyvalues"><span class="xref std std-term">insertmanyvalues</span></a> operation to track INSERTed data records
against rows passed back using RETURNING or similar.   Such a
column configuration is necessary for those cases when the
<a class="reference internal" href="#term-insertmanyvalues"><span class="xref std std-term">insertmanyvalues</span></a> feature does an optimized INSERT..RETURNING
statement for many rows at once while still being able to guarantee the
order of returned rows matches the input data.</p>
<p>For typical use cases, the SQLAlchemy SQL compiler can automatically
make use of surrogate integer primary key columns as “insert
sentinels”, and no user-configuration is required.  For less common
cases with other varieties of server-generated primary key values,
explicit “insert sentinel” columns may be optionally configured within
<a class="reference internal" href="#term-table-metadata"><span class="xref std std-term">table metadata</span></a> in order to optimize INSERT statements that
are inserting many rows at once.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="core/connections.html#engine-insertmanyvalues-returning-order"><span class="std std-ref">将 RETURNING 行关联到参数集</span></a> - in the section
<a class="reference internal" href="core/connections.html#engine-insertmanyvalues"><span class="std std-ref">INSERT 语句的“插入多个值”行为</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-14">循环复杂度<a class="headerlink" href="#term-14" title="Link to this term">¶</a></dt><dt id="term-cyclomatic-complexity">cyclomatic complexity<a class="headerlink" href="#term-cyclomatic-complexity" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--73-input--1" name="tab-set--73" type="radio"><label class="tab-label" for="tab-set--73-input--1">中文</label><div class="tab-content docutils container">
<p>一种基于程序源代码中可能路径数量的代码复杂度度量。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://zh.wikipedia.org/wiki/循环复杂度">Cyclomatic Complexity</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--73-input--2" name="tab-set--73" type="radio"><label class="tab-label" for="tab-set--73-input--2">英文
A measure of code complexity based on the number of possible paths
through a program’s source code.</label><div class="tab-content docutils container">
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Cyclomatic_complexity">Cyclomatic Complexity</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-8">指令式<a class="headerlink" href="#term-8" title="Link to this term">¶</a></dt><dt id="term-imperative">imperative<a class="headerlink" href="#term-imperative" title="Link to this term">¶</a></dt><dt id="term-9">声明式<a class="headerlink" href="#term-9" title="Link to this term">¶</a></dt><dt id="term-declarative">declarative<a class="headerlink" href="#term-declarative" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--74-input--1" name="tab-set--74" type="radio"><label class="tab-label" for="tab-set--74-input--1">中文</label><div class="tab-content docutils container">
<p>在 SQLAlchemy ORM 中，这些术语指的是将 Python 类映射到数据库表的两种不同风格。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/mapping_styles.html#orm-declarative-mapping"><span class="std std-ref">声明式映射</span></a></p>
<p><a class="reference internal" href="orm/mapping_styles.html#orm-imperative-mapping"><span class="std std-ref">命令式映射</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--74-input--2" name="tab-set--74" type="radio"><label class="tab-label" for="tab-set--74-input--2">英文</label><div class="tab-content docutils container">
<p>In the SQLAlchemy ORM, these terms refer to two different styles of
mapping Python classes to database tables.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference internal" href="orm/mapping_styles.html#orm-declarative-mapping"><span class="std std-ref">声明式映射</span></a></p>
<p><a class="reference internal" href="orm/mapping_styles.html#orm-imperative-mapping"><span class="std std-ref">命令式映射</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-6">混合类<a class="headerlink" href="#term-6" title="Link to this term">¶</a></dt><dt id="term-mixin-class">mixin class<a class="headerlink" href="#term-mixin-class" title="Link to this term">¶</a></dt><dt id="term-mixin-classes">mixin classes<a class="headerlink" href="#term-mixin-classes" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--75-input--1" name="tab-set--75" type="radio"><label class="tab-label" for="tab-set--75-input--1">中文</label><div class="tab-content docutils container">
<p>一种常见的面向对象模式，其中一个类包含供其他类使用的方法或属性，而不必成为这些其他类的父类。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Mixin">Mixin (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--75-input--2" name="tab-set--75" type="radio"><label class="tab-label" for="tab-set--75-input--2">英文</label><div class="tab-content docutils container">
<p>A common object-oriented pattern where a class that contains methods or
attributes for use by other classes without having to be the parent class
of those other classes.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Mixin">Mixin (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-13">笛卡尔积<a class="headerlink" href="#term-13" title="Link to this term">¶</a></dt><dt id="term-cartesian-product">cartesian product<a class="headerlink" href="#term-cartesian-product" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--76-input--1" name="tab-set--76" type="radio"><label class="tab-label" for="tab-set--76-input--1">中文</label><div class="tab-content docutils container">
<p>给定两个集合 A 和 B，笛卡尔积是所有有序对 (a, b) 的集合，其中 a 在 A 中，b 在 B 中。</p>
<p>在 SQL 数据库中，当我们从两个或多个表（或其他子查询）中选择时未在一个表的行与另一个表的行之间建立任何标准（直接或间接）时，就会发生笛卡尔积。如果我们同时从表 A 和表 B 中选择，我们会得到表 A 的每一行与表 B 的第一行匹配，然后表 A 的每一行与表 B 的第二行匹配，依此类推，直到表 A 的每一行都与表 B 的每一行配对。</p>
<p>笛卡尔积会生成巨大的结果集，如果不加以防止，可能会轻易导致客户端应用程序崩溃。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Cartesian_product">Cartesian Product (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--76-input--2" name="tab-set--76" type="radio"><label class="tab-label" for="tab-set--76-input--2">英文</label><div class="tab-content docutils container">
<p>Given two sets A and B, the cartesian product is the set of all ordered pairs (a, b)
where a is in A and b is in B.</p>
<p>In terms of SQL databases, a cartesian product occurs when we select from two
or more tables (or other subqueries) without establishing any kind of criteria
between the rows of one table to another (directly or indirectly).  If we
SELECT from table A and table B at the same time, we get every row of A matched
to the first row of B, then every row of A matched to the second row of B, and
so on until every row from A has been paired with every row of B.</p>
<p>Cartesian products cause enormous result sets to be generated and can easily
crash a client application if not prevented.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Cartesian_product">Cartesian Product (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
<dt id="term-15">绑定参数<a class="headerlink" href="#term-15" title="Link to this term">¶</a></dt><dt id="term-bound-parameter">bound parameter<a class="headerlink" href="#term-bound-parameter" title="Link to this term">¶</a></dt><dt id="term-bound-parameters">bound parameters<a class="headerlink" href="#term-bound-parameters" title="Link to this term">¶</a></dt><dt id="term-bind-parameter">bind parameter<a class="headerlink" href="#term-bind-parameter" title="Link to this term">¶</a></dt><dt id="term-bind-parameters">bind parameters<a class="headerlink" href="#term-bind-parameters" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--77-input--1" name="tab-set--77" type="radio"><label class="tab-label" for="tab-set--77-input--1">中文</label><div class="tab-content docutils container">
<p>绑定参数是将数据传递给 <a class="reference internal" href="#term-DBAPI"><span class="xref std std-term">DBAPI</span></a> 数据库驱动程序的主要方式。虽然要调用的操作基于 SQL 语句字符串，但数据值本身是单独传递的，驱动程序包含的逻辑将安全地处理这些字符串并将它们传递给后端数据库服务器，这可能包括将参数格式化到 SQL 字符串本身，或使用单独的协议将它们传递给数据库。</p>
<p>数据库驱动程序执行此操作的具体系统对调用者来说应该无关紧要；关键是从外部看，数据应该 <strong>始终</strong> 单独传递，而不是作为 SQL 字符串的一部分传递。这对于防止 SQL 注入的安全性以及允许驱动程序具有最佳性能都是不可或缺的。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://zh.wikipedia.org/wiki/参数化查询">Prepared Statement</a> - 在 Wikipedia</p>
<p><a class="reference external" href="https://use-the-index-luke.com/sql/where-clause/bind-parameters">bind parameters</a> - 在 Use The Index, Luke!</p>
<p><a class="reference internal" href="tutorial/dbapi_transactions.html#tutorial-sending-parameters"><span class="std std-ref">发送参数</span></a> - 在 <a class="reference internal" href="tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 统一教程</span></a></p>
</div>
</div>
<input class="tab-input" id="tab-set--77-input--2" name="tab-set--77" type="radio"><label class="tab-label" for="tab-set--77-input--2">英文</label><div class="tab-content docutils container">
<p>Bound parameters are the primary means in which data is passed to the
<a class="reference internal" href="#term-DBAPI"><span class="xref std std-term">DBAPI</span></a> database driver.    While the operation to be invoked is
based on the SQL statement string, the data values themselves are
passed separately, where the driver contains logic that will safely
process these strings and pass them to the backend database server,
which may either involve formatting the parameters into the SQL string
itself, or passing them to the database using separate protocols.</p>
<p>The specific system by which the database driver does this should not
matter to the caller; the point is that on the outside, data should
<strong>always</strong> be passed separately and not as part of the SQL string
itself.  This is integral both to having adequate security against
SQL injections as well as allowing the driver to have the best
performance.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Prepared_statement">Prepared Statement</a> - at Wikipedia</p>
<p><a class="reference external" href="https://use-the-index-luke.com/sql/where-clause/bind-parameters">bind parameters</a> - at Use The Index, Luke!</p>
<p><a class="reference internal" href="tutorial/dbapi_transactions.html#tutorial-sending-parameters"><span class="std std-ref">发送参数</span></a> - in the <a class="reference internal" href="tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 统一教程</span></a></p>
</div>
</div>
</div>
</dd>
<dt id="term-10">表面<a class="headerlink" href="#term-10" title="Link to this term">¶</a></dt><dt id="term-facade">facade<a class="headerlink" href="#term-facade" title="Link to this term">¶</a></dt><dd><div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--78-input--1" name="tab-set--78" type="radio"><label class="tab-label" for="tab-set--78-input--1">中文</label><div class="tab-content docutils container">
<p>一个作为前端接口的对象，掩盖了更复杂的底层或结构代码。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Facade_pattern">Facade pattern (via Wikipedia)</a></p>
</div>
</div>
<input class="tab-input" id="tab-set--78-input--2" name="tab-set--78" type="radio"><label class="tab-label" for="tab-set--78-input--2">英文</label><div class="tab-content docutils container">
<p>An object that serves as a front-facing interface masking more complex
underlying or structural code.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Facade_pattern">Facade pattern (via Wikipedia)</a></p>
</div>
</div>
</div>
</dd>
</dl>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                <a href="copyright.html">Copyright</a> &#169; 2007-2025, the SQLAlchemy authors and contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 04/05/2025 04:00:26</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="_static/jquery.js?v=5d32c60e"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="_static/documentation_options.js?v=2d0eb83f"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/tabs.js?v=3ee01567"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=2f3e6152"></script>
    <script src="_static/translations.js?v=beaddf03"></script>
    </body>
</html>